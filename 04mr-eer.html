
<!doctype html>
<html lang="es" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="Conceptos y actividades sobre la transformación del modelado conceptual entidad relación al modelo lógico relacional">
      
      
      
        <link rel="canonical" href="https://aitor-medrano.github.io/bd/04mr-eer.html">
      
      
        <link rel="prev" href="03mr.html">
      
      
        <link rel="next" href="05ddl.html">
      
      
      <link rel="icon" href="images/favicon.png">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.5.34">
    
    
      
        <title>Diseño Lógico - Transformación del modelo ER a MR - Bases de datos</title>
      
    
    
      <link rel="stylesheet" href="assets/stylesheets/main.35f28582.min.css">
      
        
        <link rel="stylesheet" href="assets/stylesheets/palette.06af60db.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="css/extra.css">
    
    <script>__md_scope=new URL(".",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      
  


  
  

<script id="__analytics">function __md_analytics(){function e(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],e("js",new Date),e("config","G-QK8SL29WX3"),document.addEventListener("DOMContentLoaded",(function(){document.forms.search&&document.forms.search.query.addEventListener("blur",(function(){this.value&&e("event","search",{search_term:this.value})}));document$.subscribe((function(){var t=document.forms.feedback;if(void 0!==t)for(var a of t.querySelectorAll("[type=submit]"))a.addEventListener("click",(function(a){a.preventDefault();var n=document.location.pathname,d=this.getAttribute("data-md-value");e("event","feedback",{page:n,data:d}),t.firstElementChild.disabled=!0;var r=t.querySelector(".md-feedback__note [data-md-value='"+d+"']");r&&(r.hidden=!1)})),t.hidden=!1})),location$.subscribe((function(t){e("config","G-QK8SL29WX3",{page_path:t.pathname})}))}));var t=document.createElement("script");t.async=!0,t.src="https://www.googletagmanager.com/gtag/js?id=G-QK8SL29WX3",document.getElementById("__analytics").insertAdjacentElement("afterEnd",t)}</script>
  
    <script>if("undefined"!=typeof __md_analytics){var consent=__md_get("__consent");consent&&consent.analytics&&__md_analytics()}</script>
  

    
    
      
        <meta  property="og:type"  content="website" >
      
        <meta  property="og:title"  content="Diseño Lógico - Transformación del modelo ER a MR - Bases de datos" >
      
        <meta  property="og:description"  content="Conceptos y actividades sobre la transformación del modelado conceptual entidad relación al modelo lógico relacional" >
      
        <meta  property="og:image"  content="https://aitor-medrano.github.io/bd/assets/images/social/04mr-eer.png" >
      
        <meta  property="og:image:type"  content="image/png" >
      
        <meta  property="og:image:width"  content="1200" >
      
        <meta  property="og:image:height"  content="630" >
      
        <meta  property="og:url"  content="https://aitor-medrano.github.io/bd/04mr-eer.html" >
      
        <meta  name="twitter:card"  content="summary_large_image" >
      
        <meta  name="twitter:title"  content="Diseño Lógico - Transformación del modelo ER a MR - Bases de datos" >
      
        <meta  name="twitter:description"  content="Conceptos y actividades sobre la transformación del modelado conceptual entidad relación al modelo lógico relacional" >
      
        <meta  name="twitter:image"  content="https://aitor-medrano.github.io/bd/assets/images/social/04mr-eer.png" >
      
    
    
  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="blue" data-md-color-accent="deep-orange">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#diseno-logico-transformacion-del-modelo-er-a-mr" class="md-skip">
          Saltar a contenido
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Cabecera">
    <a href="index.html" title="Bases de datos" class="md-header__button md-logo" aria-label="Bases de datos" data-md-component="logo">
      
  <img src="images/bd.png" alt="logo">

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Bases de datos
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Diseño Lógico - Transformación del modelo ER a MR
            
          </span>
        </div>
      </div>
    </div>
    
      
        <form class="md-header__option" data-md-component="palette">
  
    
    
    
    <input class="md-option" data-md-color-media="" data-md-color-scheme="default" data-md-color-primary="blue" data-md-color-accent="deep-orange"  aria-label="Cambiar a modo noche"  type="radio" name="__palette" id="__palette_0">
    
      <label class="md-header__button md-icon" title="Cambiar a modo noche" for="__palette_1" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M17 6H7c-3.31 0-6 2.69-6 6s2.69 6 6 6h10c3.31 0 6-2.69 6-6s-2.69-6-6-6m0 10H7c-2.21 0-4-1.79-4-4s1.79-4 4-4h10c2.21 0 4 1.79 4 4s-1.79 4-4 4M7 9c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3"/></svg>
      </label>
    
  
    
    
    
    <input class="md-option" data-md-color-media="" data-md-color-scheme="slate" data-md-color-primary="blue" data-md-color-accent="deep-orange"  aria-label="Cambiar a modo día"  type="radio" name="__palette" id="__palette_1">
    
      <label class="md-header__button md-icon" title="Cambiar a modo día" for="__palette_0" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M17 7H7a5 5 0 0 0-5 5 5 5 0 0 0 5 5h10a5 5 0 0 0 5-5 5 5 0 0 0-5-5m0 8a3 3 0 0 1-3-3 3 3 0 0 1 3-3 3 3 0 0 1 3 3 3 3 0 0 1-3 3"/></svg>
      </label>
    
  
</form>
      
    
    
      <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Búsqueda" placeholder="Búsqueda" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Buscar">
        
        <button type="reset" class="md-search__icon md-icon" title="Limpiar" aria-label="Limpiar" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Inicializando búsqueda
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    



<nav class="md-nav md-nav--primary" aria-label="Navegación" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="index.html" title="Bases de datos" class="md-nav__button md-logo" aria-label="Bases de datos" data-md-component="logo">
      
  <img src="images/bd.png" alt="logo">

    </a>
    Bases de datos
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="index.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Inicio
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="01intro.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    1.- Sistemas de almacenamiento
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="02er.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    2.- Diseño conceptual: Modelo Entidad/Relación
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="03mr.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    3.- Diseño lógico: Modelo Relacional
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  <span class="md-ellipsis">
    4.- Diseño lógico: Transformación
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="04mr-eer.html" class="md-nav__link md-nav__link--active">
        
  
  <span class="md-ellipsis">
    4.- Diseño lógico: Transformación
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Tabla de contenidos">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Tabla de contenidos
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#propuesta-didactica" class="md-nav__link">
    <span class="md-ellipsis">
      Propuesta didáctica
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Propuesta didáctica">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#criterios-de-evaluacion" class="md-nav__link">
    <span class="md-ellipsis">
      Criterios de evaluación
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#contenidos" class="md-nav__link">
    <span class="md-ellipsis">
      Contenidos
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#programacion-de-aula-13h" class="md-nav__link">
    <span class="md-ellipsis">
      Programación de Aula (13h)
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#pasos" class="md-nav__link">
    <span class="md-ellipsis">
      Pasos
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#atributos" class="md-nav__link">
    <span class="md-ellipsis">
      Atributos
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Atributos">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#claves-compuestas" class="md-nav__link">
    <span class="md-ellipsis">
      Claves compuestas
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#relaciones" class="md-nav__link">
    <span class="md-ellipsis">
      Relaciones
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Relaciones">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#1n" class="md-nav__link">
    <span class="md-ellipsis">
      1:N
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#11" class="md-nav__link">
    <span class="md-ellipsis">
      1:1
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#nm" class="md-nav__link">
    <span class="md-ellipsis">
      N:M
    </span>
  </a>
  
    <nav class="md-nav" aria-label="N:M">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#nm-con-dimension-temporal" class="md-nav__link">
    <span class="md-ellipsis">
      N:M con dimensión temporal
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#reflexivas" class="md-nav__link">
    <span class="md-ellipsis">
      Reflexivas
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#restricciones" class="md-nav__link">
    <span class="md-ellipsis">
      Restricciones
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Restricciones">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#cardinalidad-minima-1" class="md-nav__link">
    <span class="md-ellipsis">
      Cardinalidad mínima 1
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#identificacion" class="md-nav__link">
    <span class="md-ellipsis">
      Identificación
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#generalizacion" class="md-nav__link">
    <span class="md-ellipsis">
      Generalización
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Generalización">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#alternativas" class="md-nav__link">
    <span class="md-ellipsis">
      Alternativas
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#agregacion" class="md-nav__link">
    <span class="md-ellipsis">
      Agregación
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#de-mr-a-er" class="md-nav__link">
    <span class="md-ellipsis">
      De MR a ER
    </span>
  </a>
  
    <nav class="md-nav" aria-label="De MR a ER">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#supuesto-i" class="md-nav__link">
    <span class="md-ellipsis">
      Supuesto I
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#supuesto-ii" class="md-nav__link">
    <span class="md-ellipsis">
      Supuesto II
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#referencias" class="md-nav__link">
    <span class="md-ellipsis">
      Referencias
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#actividades" class="md-nav__link">
    <span class="md-ellipsis">
      Actividades
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="05ddl.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    5.- Diseño físico: DDL y DML
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="00entorno.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Entorno
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="vocabulari.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    <em>Vocabulari</em>
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="tags.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Tags
  </span>
  

      </a>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Tabla de contenidos">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Tabla de contenidos
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#propuesta-didactica" class="md-nav__link">
    <span class="md-ellipsis">
      Propuesta didáctica
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Propuesta didáctica">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#criterios-de-evaluacion" class="md-nav__link">
    <span class="md-ellipsis">
      Criterios de evaluación
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#contenidos" class="md-nav__link">
    <span class="md-ellipsis">
      Contenidos
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#programacion-de-aula-13h" class="md-nav__link">
    <span class="md-ellipsis">
      Programación de Aula (13h)
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#pasos" class="md-nav__link">
    <span class="md-ellipsis">
      Pasos
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#atributos" class="md-nav__link">
    <span class="md-ellipsis">
      Atributos
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Atributos">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#claves-compuestas" class="md-nav__link">
    <span class="md-ellipsis">
      Claves compuestas
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#relaciones" class="md-nav__link">
    <span class="md-ellipsis">
      Relaciones
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Relaciones">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#1n" class="md-nav__link">
    <span class="md-ellipsis">
      1:N
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#11" class="md-nav__link">
    <span class="md-ellipsis">
      1:1
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#nm" class="md-nav__link">
    <span class="md-ellipsis">
      N:M
    </span>
  </a>
  
    <nav class="md-nav" aria-label="N:M">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#nm-con-dimension-temporal" class="md-nav__link">
    <span class="md-ellipsis">
      N:M con dimensión temporal
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#reflexivas" class="md-nav__link">
    <span class="md-ellipsis">
      Reflexivas
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#restricciones" class="md-nav__link">
    <span class="md-ellipsis">
      Restricciones
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Restricciones">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#cardinalidad-minima-1" class="md-nav__link">
    <span class="md-ellipsis">
      Cardinalidad mínima 1
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#identificacion" class="md-nav__link">
    <span class="md-ellipsis">
      Identificación
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#generalizacion" class="md-nav__link">
    <span class="md-ellipsis">
      Generalización
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Generalización">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#alternativas" class="md-nav__link">
    <span class="md-ellipsis">
      Alternativas
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#agregacion" class="md-nav__link">
    <span class="md-ellipsis">
      Agregación
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#de-mr-a-er" class="md-nav__link">
    <span class="md-ellipsis">
      De MR a ER
    </span>
  </a>
  
    <nav class="md-nav" aria-label="De MR a ER">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#supuesto-i" class="md-nav__link">
    <span class="md-ellipsis">
      Supuesto I
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#supuesto-ii" class="md-nav__link">
    <span class="md-ellipsis">
      Supuesto II
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#referencias" class="md-nav__link">
    <span class="md-ellipsis">
      Referencias
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#actividades" class="md-nav__link">
    <span class="md-ellipsis">
      Actividades
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  
  
<nav class="md-tags" >
  
    
    
    
      <a href="tags.html#modelo-entidad-relacion" class="md-tag">Modelo Entidad Relación</a>
    
  
    
    
    
      <a href="tags.html#modelo-relacional" class="md-tag">Modelo Relacional</a>
    
  
    
    
    
      <a href="tags.html#ra6" class="md-tag">RA6</a>
    
  
</nav>



<h1 id="diseno-logico-transformacion-del-modelo-er-a-mr">Diseño Lógico: Transformación del modelo ER a MR<a class="headerlink" href="#diseno-logico-transformacion-del-modelo-er-a-mr" title="Permanent link">&para;</a></h1>
<h2 id="propuesta-didactica">Propuesta didáctica<a class="headerlink" href="#propuesta-didactica" title="Permanent link">&para;</a></h2>
<p>En esta UT vamos a terminar de trabajar el RA6: <strong>Diseña modelos relacionales normalizados interpretando diagramas entidad/relación</strong>.</p>
<h3 id="criterios-de-evaluacion">Criterios de evaluación<a class="headerlink" href="#criterios-de-evaluacion" title="Permanent link">&para;</a></h3>
<ul>
<li><strong><abbr title="Se han utilizado herramientas gráficas para representar el diseño lógico.">CE6a</abbr></strong>: Se han utilizado herramientas gráficas para representar el diseño lógico.</li>
<li><strong><abbr title="Se han identificado las tablas del diseño lógico.">CE6b</abbr></strong>: Se han identificado las tablas del diseño lógico.</li>
<li><strong><abbr title="Se han identificado los campos que forman parte de las tablas del diseño lógico.">CE6c</abbr></strong>: Se han identificado los campos que forman parte de las tablas del diseño lógico.</li>
<li><strong><abbr title="Se han analizado las relaciones entre las tablas del diseño lógico.">CE6d</abbr></strong>: Se han analizado las relaciones entre las tablas del diseño lógico.</li>
<li><strong><abbr title="Se han identificado los campos clave.">CE6e</abbr></strong>: Se han identificado los campos clave.</li>
<li><strong><abbr title="Se han aplicado reglas de integridad.">CE6f</abbr></strong>: Se han aplicado reglas de integridad.</li>
</ul>
<h3 id="contenidos">Contenidos<a class="headerlink" href="#contenidos" title="Permanent link">&para;</a></h3>
<p>Interpretación de Diagramas Entidad/Relación:</p>
<p>− Paso del diagrama E/R al modelo relacional.</p>
<div class="admonition question">
<p class="admonition-title">Cuestionario inicial</p>
<ol>
<li>¿Cómo se transforma un atributo compuesto al modelo relacional?</li>
<li>¿Y un atributo multivaluado?</li>
<li>¿Qué diferencia hay en la transformación de una relación 1:N respecto a una relación 1:1?</li>
<li>¿Qué tipo de relación provoca la creación de una nueva tabla?</li>
<li>Cuando hablamos de generalizaciones, ¿qué tres opciones podemos plantear al transformarlas al modelo relacional?</li>
<li>¿Qué diferencia una entidad débil respecto a una fuerte en el modelo relacional?</li>
<li>¿Podemos tener una entidad débil sin clave primaria?</li>
<li>Cuando una clave ajena además es clave alternativa, ¿que tipo de relación existe entre las entidades?</li>
<li>¿Y si la clave ajena además está marcada como valor no nulo?</li>
<li>Cuando tenemos una clave ajena que toda ella es una clave primaria, ¿que tipo de relación existe entre las entidades?</li>
</ol>
</div>
<h3 id="programacion-de-aula-13h">Programación de Aula (13h)<a class="headerlink" href="#programacion-de-aula-13h" title="Permanent link">&para;</a></h3>
<p>Esta unidad es la cuarta, con lo que se imparte en la primera evaluación, durante el mes de noviembre, con una duración estimada de 13 sesiones lectivas:</p>
<table>
<thead>
<tr>
<th>Sesión</th>
<th>Contenidos</th>
<th>Actividades</th>
<th>Criterios trabajados</th>
</tr>
</thead>
<tbody>
<tr>
<td>1</td>
<td>Paso de E/R al MR</td>
<td></td>
<td></td>
</tr>
<tr>
<td>2</td>
<td>Relaciones 1:N y 1:1</td>
<td><a href="#AC401">AC401</a>, <a href="#AC402">AC402</a></td>
<td><abbr title="Se han utilizado herramientas gráficas para representar el diseño lógico.">CE6a</abbr>-<abbr title="Se han aplicado reglas de integridad.">CE6f</abbr></td>
</tr>
<tr>
<td>3</td>
<td>Relaciones N:M</td>
<td><a href="#AC403">AC403</a></td>
<td><abbr title="Se han utilizado herramientas gráficas para representar el diseño lógico.">CE6a</abbr>-<abbr title="Se han aplicado reglas de integridad.">CE6f</abbr></td>
</tr>
<tr>
<td>4</td>
<td>Restricciones</td>
<td><a href="#AC406">AC406</a></td>
<td></td>
</tr>
<tr>
<td>5</td>
<td>Generalización</td>
<td><a href="#AC407">AC407</a></td>
<td></td>
</tr>
<tr>
<td>6</td>
<td>Actividad Cocina</td>
<td><a href="#PR408">PR408</a></td>
<td><abbr title="Se han utilizado herramientas gráficas para representar el diseño lógico.">CE6a</abbr>-<abbr title="Se han aplicado reglas de normalización.">CE6g</abbr></td>
</tr>
<tr>
<td>7</td>
<td>De MR a EER I</td>
<td></td>
<td></td>
</tr>
<tr>
<td>8</td>
<td>De MR a EER II</td>
<td><a href="#AC409">AC409</a>, <a href="#AC410">AC410</a></td>
<td><abbr title="Se han analizado las relaciones entre las tablas del diseño lógico.">CE6d</abbr></td>
</tr>
<tr>
<td>9</td>
<td>Interpretando MR</td>
<td><a href="#AC413">AC413</a></td>
<td><abbr title="Se han identificado las tablas del diseño lógico.">CE6b</abbr>-<abbr title="Se han aplicado reglas de integridad.">CE6f</abbr></td>
</tr>
<tr>
<td>10</td>
<td>Reto - diseño lógico</td>
<td><a href="#PY414">PY414</a></td>
<td><abbr title="Se han utilizado herramientas gráficas para representar el diseño lógico.">CE6a</abbr>-<abbr title="Se han aplicado reglas de normalización.">CE6g</abbr></td>
</tr>
<tr>
<td>11</td>
<td>Reto - diseño lógico</td>
<td></td>
<td></td>
</tr>
<tr>
<td>12</td>
<td>Prueba objetiva</td>
<td><a href="#PO415">PO415</a></td>
<td><abbr title="Se han utilizado herramientas gráficas para representar el diseño lógico.">CE6a</abbr>-<abbr title="Se han aplicado reglas de normalización.">CE6g</abbr></td>
</tr>
<tr>
<td>13</td>
<td>Prueba objetiva</td>
<td></td>
<td></td>
</tr>
</tbody>
</table>
<p>Al finalizar esta unidad, realizaremos una prueba objetiva consistente en modelar supuestos sencillos y posteriormente transformarlos a modelo relacional, así como interpretar modelos ya existentes.</p>
<h2 id="pasos">Pasos<a class="headerlink" href="#pasos" title="Permanent link">&para;</a></h2>
<p>Una vez conocido el modelo conceptual entidad-relación y el modelo lógico relacional, vamos a estudiar como transformar y pasar de uno a otro. Para ello, seguiremos los siguientes pasos:</p>
<ol>
<li>Las entidades pasan a ser tablas</li>
<li>Los atributos pasar a ser columnas</li>
<li>Los atributos identificadores pasar a ser claves primarias.</li>
<li>Los atributos de las relaciones pasan a columnas detrás de las claves ajenas</li>
<li>Las relaciones, dependiendo de la cardinalidad, pasarán a ser claves ajenas y/o tablas.</li>
</ol>
<h2 id="atributos">Atributos<a class="headerlink" href="#atributos" title="Permanent link">&para;</a></h2>
<p>Conviene recordar que dentro de una tabla, no se puede repetir el nombre de ningún atributo, pero sí en tablas diferentes.</p>
<p>Algunos profesionales prefieren que no se repitan los identificadores entre diferentes tablas de una misma <abbr title="Base de datos">BD</abbr>, aunque es cierto que las herramientas ORM de generación de modelos físicos a partir de definición de clases u objetos suelen nombrar todas las claves primarias como <code>id</code> o <code>_id</code>.</p>
<p>En cuanto a los atributos <strong>compuestos</strong>, se separan como atributos individuales dentro de la tabla, pudiéndoles poner el prefijo del atributo compuesto o el propio nombre del atributo si no da pie a confusión.</p>
<p>Para los atributos <strong>derivados</strong>, dependiendo del caso, bien no se añaden como atributo (ya que se obtendrán a partir de los datos de las relaciones), o bien se renombra el atributo para almacenar el dato en crudo sobre el cual se realiza el cálculo necesario.</p>
<figure style="float: right;">
    <img src="images/04atributos.png" width="400" title="Transformación de atributos">
    <figcaption>Transformación de atributos</figcaption>
</figure>

<p>Por ejemplo, si partimos de un sencillo modelo ER de un cliente, su transformación al modelo relacional sería la siguiente:</p>
<p><code>
<strong>CLIENTE</strong> (<ins>dni</ins>, nombre, calle, numPiso, ciudad, fnac)<br />
· PK: (dni)
</code></p>
<p>Destacar que no hemos puesto el nombre del atributo compuesto, sino cada uno de sus atributos, y además, hemos renombrado <code>numero</code> a <code>numPiso</code> para evitar confusiones con otras entidades; respecto al atributo derivado edad, lo hemos cambiado por la fecha de nacimiento.</p>
<p>Respecto a los atributos <strong>multivaluados</strong>, derivan en una relación uno a muchos (1:N), tal como veremos a continuación.</p>
<h3 id="claves-compuestas">Claves compuestas<a class="headerlink" href="#claves-compuestas" title="Permanent link">&para;</a></h3>
<p>Normalmente, cada entidad tendrá un atributo identificador que traduciremos en una clave primaria. Pero puede darse el caso que una entidad tenga una clave compuesta, o tenga marcados dos atributos identificadores (en este caso, uno será la clave primaria y el otro será una clave alternativa que marcaremos como única).</p>
<p>Por ejemplo, el siguiente diagrama representa un aula que se identifica mediante una clave compuesta:</p>
<p><code>
<strong>AULA</strong> (<ins>edificio</ins>, <ins>numSala</ins>, numAsientos)<br />
· PK: (edificio, numSala)
</code></p>
<p>Sin embargo, también podemos tener un empleado con dos atributos identificadores:</p>
<p><code>
<strong>EMPLEADO</strong> (<ins>codigo</ins>, nif, nombre, salario)<br />
· PK: (codigo)<br />
· UK: (nif)
</code></p>
<figure style="align: center;">
    <img src="images/04claves-compuestas.png" width="633" title="Clave primaria compuesta vs claves candidatas">
    <figcaption>Clave primaria compuesta vs claves candidatas</figcaption>
</figure>

<h2 id="relaciones">Relaciones<a class="headerlink" href="#relaciones" title="Permanent link">&para;</a></h2>
<p>Al transformar las relaciones, dependiendo de la cardinalidad deberemos colocar la clave ajena en un lugar u otro.</p>
<h3 id="1n">1:N<a class="headerlink" href="#1n" title="Permanent link">&para;</a></h3>
<p>La clave primaria de la entidad con cardinalidad máxima a 1 se incluye en la entidad con cardinalidad máxima N como clave ajena.</p>
<figure style="float: right;">
    <img src="images/04relaciones1n.png" width="604" title="Transformación de relación 1:N">
    <figcaption>Transformación de relación 1:N</figcaption>
</figure>

<p><code>
<strong>A</strong> (<ins>a0</ins>, a1, b0<code>*</code>)<br />
· PK: (a0)<br />
· FK: (b0) → B
</code></p>
<p><code>
<strong>B</strong> (<ins>b0</ins>, b1)<br />
· PK: (b0)
</code></p>
<p>De esta manera, tenemos que dado un registro en A, tendremos uno en B. Y dado un B, podemos tener muchos en A, cumpliendo la cardinalidad de uno a muchos.</p>
<p>Por ejemplo, si tenemos un modelo donde, en vez de un atributo multivaluado, hemos creado una entidad para modelar que una persona puede tener muchos teléfonos:</p>
<figure style="float: left;">
    <img src="images/04ejemplo1n.png" width="260" title="Ejemplo de relación 1:N">
    <figcaption>Ejemplo de relación 1:N</figcaption>
</figure>

<p>Si aplicamos la transformación recién vista, obtenemos el siguiente esquema lógico:</p>
<p><code>
<strong>PERSONA</strong> (<ins>dni</ins>, nombre, direccion)<br />
· PK: (dni)
</code></p>
<p><code>
<strong>TELEFONO</strong> (<ins>numero</ins>, propio, dni<code>*</code>)<br />
· PK: (numero)<br />
· FK: (dni) → PERSONA
</code></p>
<p>Conviene recordar que la clave ajena será la clave primaria que nos hemos traido desde la entidad con cardinalidad máxima a 1 (en este caso, llevamos la clave primaria de <code>PERSONA</code> a <code>TELEFONO</code>), de manera que el atributo <code>TELEFONO.dni</code> representa la relación <code>TENER</code>.</p>
<p>Las claves ajenas se colocan tras los atributos de cada tabla (en este caso, detrás de <code>numero</code> y <code>propio</code>), y normalmente, se nombran con el mismo nombre de la clave primaria. Si diera pie a confusión, es recomendable renombrarla pudiendo como sufijo el nombre de la tabla.</p>
<p>Finalmente, si quisiéramos generar el diagrama relacional, obtendríamos una gráfico similar al siguiente, donde se puede ver como desde <code>TELEFONO.dni</code> se conecta con <code>PERSONA.dni</code>:</p>
<figure style="align: center;">
    <img src="images/04ejemplo1n-mr.png" width="427" title="Esquema relacional en ERDPlus">
    <figcaption>Esquema relacional en ERDPlus</figcaption>
</figure>

<p>Recordad la regla de integridad referencial del modelo relacional, donde cada valor de la clave ajena debe coincidir con un valor existente de la clave primaria a la que referencia (o ser nulo). De esta manera, no podemos tener un <code>dni</code> en la tabla <code>TELEFONO</code> que no exista previamente en la tabla <code>PERSONA</code>.</p>
<div class="grid cards">
<ul>
<li>
<p><code>PERSONA</code></p>
<table>
<thead>
<tr>
<th><ins>dni</ins></th>
<th>nombre</th>
<th>direccion</th>
</tr>
</thead>
<tbody>
<tr>
<td>11111111A</td>
<td>Pedro Casas</td>
<td>Calle Mayor, 1</td>
</tr>
<tr>
<td>22222222B</td>
<td>Laura García</td>
<td>Avda Libertad, 33</td>
</tr>
<tr>
<td>33333333C</td>
<td>Mireia Vidal</td>
<td>Paseo de la Estación, 5</td>
</tr>
</tbody>
</table>
</li>
<li>
<p><code>TELEFONO</code></p>
<table>
<thead>
<tr>
<th><ins>numero</ins></th>
<th>propio</th>
<th>dni<code>*</code></th>
</tr>
</thead>
<tbody>
<tr>
<td>636111111</td>
<td>true</td>
<td>22222222B</td>
</tr>
<tr>
<td>686222222</td>
<td>true</td>
<td>11111111A</td>
</tr>
<tr>
<td>666333333</td>
<td>false</td>
<td>11111111A</td>
</tr>
<tr>
<td>666444444</td>
<td>true</td>
<td></td>
</tr>
</tbody>
</table>
</li>
</ul>
</div>
<div class="admonition success">
<p class="admonition-title">Renombrando claves ajenas</p>
<p>Aunque es muy común que el nombre del atributo que hace de clave ajena coincida con la clave primaria a la que apunta, podemos renombrarla y ponerle un nombre que facilite su comprensión.</p>
<p>En el caso de la tabla <code>TELEFONO</code>, el campo <code>dni</code> hace referencia al titular del teléfono, no es que un teléfono tenga un dni. Podríamos haber modelado la tabla renombrando el <code>TELEFONO.dni</code> como <code>TELEFONO.propietario</code> dando un valor semántico al atributo:</p>
<p><code>
<strong>TELEFONO</strong> (<ins>numero</ins>, propio, propietario<code>*</code>)<br />
· PK: (numero)<br />
· FK: (propietario) → PERSONA
</code></p>
<p>Lo que sí es obligatorio es que los dominios de las claves ajenas y las claves primarias coincidan.</p>
</div>
<div class="admonition tip">
<p class="admonition-title">Atributos multivaluados</p>
<p>Cuando tenemos un atributo multivaluado, éste se mapea en una relación separada.</p>
<p>Podemos crear una nueva tabla con un código o atributo identificador para cada registro y añadir una clave ajena a modo de relación 1:N.</p>
<p><figure style="float: right;">
    <img src="images/04atributos-multivaluado.png" width="313" title="Atributo multivaluado">
    <figcaption>Atributo multivaluado</figcaption>
</figure></p>
<p>Así pues, si tenemos un empleado que tiene muchos teléfonos mediante un atributo, generaremos dos tablas:</p>
<p><code>
<strong>EMPLEADO</strong> (<ins>nif</ins>, nombre)<br />
· PK: (nif)
</code></p>
<p><code>
<strong>TELEFONO</strong> (<ins>numero</ins>, dni<code>*</code>)<br />
· PK: (numero)<br />
· FK: (dni) → EMPLEADO
</code></p>
<p>Si fuera un valor que pudiese compartirse entre varios empleados, como pudiera ser que un empleado tiene muchos cargos, y ese mismo cargo lo pueden tener varios empleados (pero no nos interesa a priori modelarlo conceptualmente como una entidad), podríamos crear una clave primaria compuesta:</p>
<p><code>
<strong>CARGO</strong> (<ins>cargo</ins>, <ins>dni</ins><code>*</code>)<br />
· PK: (cargo, dni)<br />
· FK: (dni) → EMPLEADO
</code>  </p>
</div>
<h3 id="11">1:1<a class="headerlink" href="#11" title="Permanent link">&para;</a></h3>
<p>En este caso, la clave ajena se pone en cualquier entidad y se añade como clave alternativa/única (<code>UK</code>). </p>
<figure style="float: right;">
    <img src="images/04relaciones11.png" width="604" title="Transformación de relación 1:1">
    <figcaption>Transformación de relación 1:1</figcaption>
</figure>

<p>Así pues, una posible solución sería llevar la clave ajena a A:</p>
<p><code>
<strong>A</strong> (<ins>a0</ins>, a1, b0<code>*</code>)<br />
· PK: (a0)<br />
· FK: (b0) → B<br />
· UK: (b0)
</code></p>
<p><code>
<strong>B</strong> (<ins>b0</ins>, b1)<br />
· PK: (b0)
</code></p>
<p>Al hacer que el atributo que es clave ajena sea clave única, restringimos que dicho valor no se pueda repetir.</p>
<p>Y la otra posible solución sería llevar la clave ajena a B:</p>
<p><code>
<strong>A</strong> (<ins>a0</ins>, a1)<br />
· PK: (a0)<br />
</code></p>
<p><code>
<strong>B</strong> (<ins>b0</ins>, b1, a0<code>*</code>)<br />
· PK: (b0)<br />
· FK: (a0) → A<br />
· UK: (a0)
</code></p>
<figure style="float: right;">
    <img src="images/04ejemplo11.png" width="302" title="Ejemplo de relación 1:1">
    <figcaption>Ejemplo de relación 1:1</figcaption>
</figure>

<p>Vamos a poner otro ejemplo. En este caso, tenemos la relación existente entre un vehículo y el empleado que lo conduce en una empresa, dando lugar a una relación 1:1 (fíjate como en este caso, hemos renombrado la clave ajena a <code>dniEmpleado</code> para facilitar la compresión):</p>
<p><code>
<strong>EMPLEADO</strong> (<ins>dni</ins>, nombre, dirección)<br />
· PK: (dni)<br />
</code></p>
<p><code>
<strong>VEHICULO</strong> (<ins>matrícula</ins>, marca, modelo, dniEmpleado<code>*</code>)<br />
· PK: (matrícula)<br />
· FK: (dniEmpleado) → EMPLEADO<br />
· UK: (dniEmpleado)
</code></p>
<div class="admonition question">
<p class="admonition-title">¿Sabrías...?</p>
<p>¿Sabrías crear otra solución donde la clave ajena estuviera en la entidad <code>EMPLEADO</code>?<br />
A continuación, rellena las dos tablas con datos y comprueba si la relación entre ambas entidades es 1:N o 1:1.</p>
</div>
<h3 id="nm">N:M<a class="headerlink" href="#nm" title="Permanent link">&para;</a></h3>
<p>En el caso de las relaciones muchos a muchos, la relación se traduce en una nueva tabla, cuya clave primaria se compone de las claves primarias referenciadas, y cada clave primaria es una clave ajena.</p>
<figure style="float: right;">
    <img src="images/04relacionesnm.png" width="604" title="Transformación de relación N:M">
    <figcaption>Transformación de relación N:M</figcaption>
</figure>

<p><code>
<strong>A</strong> (<ins>a0</ins>, a1)<br />
· PK: (a0)<br />
</code></p>
<p><code>
<strong>B</strong> (<ins>b0</ins>, b1)<br />
· PK: (b0)<br />
</code></p>
<p><code>
<strong>R</strong> (<ins>a0</ins><code>*</code>, <ins>b0</ins><code>*</code>)<br />
· PK: (a0, b0)<br />
· FK: (a0) → A<br />
· FK: (b0) → B<br />
</code></p>
<p>Para este ejemplo, tenemos una empresa de transportes, donde un conductor conduce varios autobuses, y luego un autobus lo conducen varios conductores en diferentes trayectos, dando lugar a una relación muchos a muchos, donde en la relación añadimos el atributo <code>trayecto</code>:</p>
<figure style="float: right;">
    <img src="images/04ejemplonm.png" width="298" title="Ejemplo de relación N:M">
    <figcaption>Ejemplo de relación N:M</figcaption>
</figure>

<p><code>
<strong>CONDUCTOR</strong> (<ins>dni</ins>, nombre, experiencia)<br />
· PK: (dni)<br />
</code></p>
<p><code>
<strong>AUTOBUS</strong> (<ins>matricula</ins>, categoria)<br />
· PK: (matricula)<br />
</code></p>
<p><code>
<strong>CONDUCIR</strong> (<ins>dni</ins><code>*</code>, <ins>matricula</ins><code>*</code>, trayecto)<br />
· PK: (dni, matricula)<br />
· FK: (dni) → CONDUCTOR<br />
· FK: (matricula) → AUTOBUS<br />
</code></p>
<div class="admonition tip">
<p class="admonition-title">El orden importa</p>
<p>Cuando pasamos una relación uno a muchos o muchos a muchos de un modelo ER a un modelo relacional, primero crearemos las tablas que no tienen claves ajenas.</p>
<p>En este caso, empezaremos por <code>CONDUCTOR</code> y <code>AUTOBUS</code>, definiendo sus claves primarias y atributos.</p>
<p>A continuación, crearemos la/s tabla/s que contiene claves ajenas a las tablas ya creadas, esto es, la tabla <code>CONDUCIR</code> que apunta a <code>CONDUCTOR</code> y <code>AUTOBUS</code>.</p>
</div>
<p>En este caso, el diagrama del modelo relacional se traduce en tres tablas conectadas, colocando el atributo de la relación en la nueva tabla <code>CONDUCIR</code>. Destacar como la tabla tiene una clave primaria compuesta, donde de cada parte de la clave sale una clave ajena a cada una de las tablas que relaciona:</p>
<figure style="align: center;">
    <img src="images/04ejemplonm-mr.png" width="620" title="Esquema relacional en ERDPlus">
    <figcaption>Esquema relacional en ERDPlus</figcaption>
</figure>

<p>Y comprobamos con datos cómo sí se cumplen las cardinalidades:</p>
<div class="grid cards">
<ul>
<li>
<p><code>AUTOBUS</code></p>
<table>
<thead>
<tr>
<th><ins>matricula</ins></th>
<th>categoria</th>
</tr>
</thead>
<tbody>
<tr>
<td>1111ABC</td>
<td>normal</td>
</tr>
<tr>
<td>2222BCD</td>
<td>larga distancia</td>
</tr>
<tr>
<td>3333DEF</td>
<td>larga distancia</td>
</tr>
</tbody>
</table>
</li>
<li>
<p><code>CONDUCTOR</code></p>
<table>
<thead>
<tr>
<th><ins>nif</ins></th>
<th>nombre</th>
<th>experiencia</th>
</tr>
</thead>
<tbody>
<tr>
<td>11111111A</td>
<td>Andrés Checa</td>
<td>1</td>
</tr>
<tr>
<td>22222222B</td>
<td>José Escrig</td>
<td>2</td>
</tr>
<tr>
<td>33333333B</td>
<td>Marina Fernández</td>
<td>3</td>
</tr>
</tbody>
</table>
</li>
<li>
<p><code>CONDUCIR</code></p>
<table>
<thead>
<tr>
<th><ins>nif</ins><code>*</code></th>
<th><ins>matricula</ins><code>*</code></th>
<th>trayecto</th>
</tr>
</thead>
<tbody>
<tr>
<td>11111111A</td>
<td>1111ABC</td>
<td>A</td>
</tr>
<tr>
<td>22222222B</td>
<td>1111ABC</td>
<td>B</td>
</tr>
<tr>
<td>11111111A</td>
<td>3333DEF</td>
<td>C</td>
</tr>
</tbody>
</table>
</li>
</ul>
</div>
<h4 id="nm-con-dimension-temporal">N:M con dimensión temporal<a class="headerlink" href="#nm-con-dimension-temporal" title="Permanent link">&para;</a></h4>
<p>Si la relación tiene atributos de tipo fecha, será necesario incluir al menos uno en la clave primaria.</p>
<p>Supongamos una empresa de alquiler de vehiculos, donde tenemos que un cliente puede alquilar el mismo vehículo en fechas diferentes, o alquilar diferentes vehículos. Claramente, un vehículo lo pueden alquilar diferentes clientes en fechas diferentes. Para ello, creamos una relación muchos a muchos, colocando la fecha de inicio y de finalización del alquiler en la propia relación.</p>
<figure style="align: center;">
    <img src="images/04ejemplonm-fecha.png" width="620" title="Relación N:M con dimensión temporal">
    <figcaption>Relación N:M con dimensión temporal</figcaption>
</figure>

<p>Al crear el modelo relacional, tendremos las dos tablas de las entidades relacionadas:</p>
<p><code>
<strong>CLIENTE</strong> (<ins>dni</ins>, nombre)<br />
· PK: (dni)<br />
</code></p>
<p><code>
<strong>VEHICULO</strong> (<ins>matricula</ins>, kms)<br />
· PK: (matricula)<br />
</code></p>
<p>Y la tabla que las relaciona con el atributo de fecha de inicio como parte de la clave primaria (de este modo, el cliente A puede alquilar el vehículo X en días diferentes):</p>
<p><code>
<strong>ALQUILAR</strong> (<ins>dni</ins><code>*</code>, <ins>matricula</ins><code>*</code>, <ins>finicio</ins>, ffin)<br />
· PK: (dni, matricula, finicio)<br />
· FK: (dni) → CLIENTE<br />
· FK: (matricula) → VEHICULO<br />
</code></p>
<h3 id="reflexivas">Reflexivas<a class="headerlink" href="#reflexivas" title="Permanent link">&para;</a></h3>
<figure style="float: right;">
    <img src="images/04relacion-reflexiva.png" width="260" title="Relación reflexiva 1:N">
    <figcaption>Relación reflexiva 1:N</figcaption>
</figure>

<p>Recuerda que consideramos una relación reflexiva cuando una entidad se relaciona consigo misma.</p>
<p>Dependiendo de la cardinalidad de la relación, si tenemos una cardinalidad 1:1 o 1:N, la clave ajena apuntará a la misma tabla, y por lo tanto tendremos que añadir un nuevo atributo (más los propios de la relación) a la tabla y si tenemos una relación N:M, las dos claves ajenas apuntarán a la misma entidad.</p>
<p>Así pues, con el siguiente modelo 1:N tendríamos una entidad con sus atributos propios (<code>a0</code> y <code>a1</code>), al cual le añadimos la clave ajena (<code>a0r</code>) y los atributos de la relación (en este caso, <code>r0</code>):</p>
<p><code>
<strong>A</strong> (<ins>a0</ins>, a1, a0r<code>*</code>, r0)<br />
· PK: (a0)<br />
· FK: (a0r) → A<br />
</code></p>
<figure style="float: right;">
    <img src="images/04relacion-reflexiva-mr.png" width="188" title="Relación reflexiva 1:N en MR">
    <figcaption>Relación reflexiva 1:N en MR</figcaption>
</figure>

<p>A nivel de tabla, tendríamos que unos posibles datos serían los siguientes, donde los valores de <code>a0r</code> deben ser algunos de los existentes previamente en <code>a0</code>:</p>
<table>
<thead>
<tr>
<th><ins>a0</ins></th>
<th>a1</th>
<th>a0r<code>*</code></th>
<th>r0</th>
</tr>
</thead>
<tbody>
<tr>
<td>1</td>
<td>alfa</td>
<td></td>
<td></td>
</tr>
<tr>
<td>2</td>
<td>beta</td>
<td>1</td>
<td>azul</td>
</tr>
<tr>
<td>3</td>
<td>gamma</td>
<td>2</td>
<td>amarillo</td>
</tr>
<tr>
<td>4</td>
<td>delta</td>
<td>1</td>
<td>verde</td>
</tr>
</tbody>
</table>
<div class="admonition question">
<p class="admonition-title">Claves ajenas compuestas</p>
<p>¿Y si nuestra entidad tiene una clave primaria compuesta? En este caso, la clave ajena también deberá compuesta.</p>
<p><figure style="float: right;">
    <img src="images/04ejemplo-reflexiva.png" width="319" title="Ejemplo de reflexiva 1:N">
    <figcaption>Ejemplo de reflexiva 1:N</figcaption>
</figure></p>
<p>Supongamos el siguiente diagrama donde tenemos que un producto puede ser el sustituto de uno o más productos de un almacén. Además, cada producto se identifica mediante una atributo compuesto que dará lugar a una clave primaria compuesta.</p>
<p>Así pues, el modelo relacional sería:</p>
<p><code>
<strong>PRODUCTO</strong> (<ins>dpto</ins>, <ins>numero</ins>, nombre, pvp, <ins>dptoS</ins><code>*</code>, <ins>numeroS</ins><code>*</code>, fecha)<br />
· PK: (dpto, numero)<br />
· FK: (dptoS, numeroS) → PRODUCTO<br />
</code></p>
<p>Donde la clave ajena también es compuesta.</p>
<p>¿Serías capaz de dibujar el diagrama del modelo relacional?</p>
</div>
<h2 id="restricciones">Restricciones<a class="headerlink" href="#restricciones" title="Permanent link">&para;</a></h2>
<p>Una vez visto como se transforman los atributos y las relaciones, vamos a ver algunas particularidades a la hora de aplicar restricciones sobre las cardinalidades.</p>
<h3 id="cardinalidad-minima-1">Cardinalidad mínima 1<a class="headerlink" href="#cardinalidad-minima-1" title="Permanent link">&para;</a></h3>
<p>Cuando la cardinalidad mínima es 1, independientemente de la cardinalidad máxima, estamos indicando que sí o sí dicha clave ajena debe tener un valor. Para cumplirla, únicamente debemos marcar la clave ajena como valor no nulo (VNN).</p>
<figure style="float: right;">
    <img src="images/04restric-min1.png" width="617" title="Cardinalidad mínima a 1">
    <figcaption>Cardinalidad mínima a 1</figcaption>
</figure>

<p><code>
<strong>A</strong> (<ins>a0</ins>, a1, b0<code>*</code>)<br />
· PK: (a0)<br />
· FK: (b0) → B<br />
· VNN: (b0)
</code></p>
<p><code>
<strong>B</strong> (<ins>b0</ins>, b1)<br />
· PK: (b0)
</code></p>
<p>De esta manera, toda ocurrencia de A debe tener una de B.</p>
<div class="admonition question">
<p class="admonition-title">Cardinalidad mínima en N</p>
<p><figure style="float: right;">
    <img src="images/04restric-min1N.png" width="515" title="Cardinalidad mínima a 1 en N">
    <figcaption>Cardinalidad mínima a 1 en N</figcaption>
</figure></p>
<p>Supongamos la misma relación que el caso que acabamos de ver, pero ahora ambos lados tienen la cardinalidad mínima a 1. El modelo relacional será el mismo:</p>
<p><code>
<strong>A</strong> (<ins>a0</ins>, a1, b0<code>*</code>)<br />
· PK: (a0)<br />
· FK: (b0) → B<br />
· VNN: (b0)
</code></p>
<p><code>
<strong>B</strong> (<ins>b0</ins>, b1)<br />
· PK: (b0)
</code>   </p>
<p>Si la cardinalidad mínima está en el lado de N, se produce una pérdida expresiva, porque a nivel de base de datos no podemos obligar que para cada registro de B haya como mínimo uno de A.</p>
<p>Vamos a comprobar con datos de ejemplo la pérdida expresiva. Si en la tablas tenemos los siguientes datos:</p>
<div class="grid cards" markdown>
<ul>
<li>
<p><code>A</code></p>
<table>
<thead>
<tr>
<th><ins>a0</ins></th>
<th>a1</th>
<th>bo<code>*</code></th>
</tr>
</thead>
<tbody>
<tr>
<td>1</td>
<td>alfa</td>
<td>x</td>
</tr>
<tr>
<td>2</td>
<td>beta</td>
<td>x</td>
</tr>
<tr>
<td>3</td>
<td>gamma</td>
<td>y</td>
</tr>
</tbody>
</table>
</li>
<li>
<p><code>B</code></p>
<table>
<thead>
<tr>
<th><ins>b0</ins></th>
<th>b1</th>
</tr>
</thead>
<tbody>
<tr>
<td>x</td>
<td>rojo</td>
</tr>
<tr>
<td>y</td>
<td>azul</td>
</tr>
<tr>
<td>z</td>
<td>amarillo</td>
</tr>
</tbody>
</table>
</li>
</ul>
</div>
<p>No podemos asegurar que todo valor de B aparezca en A, ya que el valor <code>z</code> de <code>B</code> no aparece para ninguna clave ajena en <code>A</code>.</p>
</div>
<h3 id="identificacion">Identificación<a class="headerlink" href="#identificacion" title="Permanent link">&para;</a></h3>
<figure style="float: right;">
    <img src="images/04restric-id.png" width="602" title="Restricción de ID">
    <figcaption>Restricción de ID</figcaption>
</figure>

<p>En las restricciones de identificación, la entidad débil se identifica, completamente o en parte, con la entidad fuerte. Es por ello, que la clave ajena debe formar parte de la clave primaria compuesta por la clave primaria de la entidad fuerte y la débil:</p>
<p><code>
<strong>A</strong> (<ins>a0</ins>, <ins>b0</ins><code>*</code>, a1)<br />
· PK: (a0, bo)<br />
· FK: (b0) → B<br />
</code></p>
<p><code>
<strong>B</strong> (<ins>b0</ins>, b1)<br />
· PK: (b0)
</code></p>
<figure style="float: right;">
    <img src="images/04ejemplo-id2.png" width="637" title="Ejemplo de restricción de ID">
    <figcaption>Ejemplo de restricción de ID</figcaption>
</figure>

<p>En el siguiente ejemplo, tenemos que cada sala se identifica por el cine al que pertenece por un número de sala, el cual se reinicia por cada cine. Es decir, la sala 1 del cine IMF no es la misma tupla que la sala 1 del cine ABC:</p>
<p><code>
<strong>CINE</strong> (<ins>codigo</ins>, nombre, direccion)<br />
· PK: (codigo)
</code></p>
<p><code>
<strong>SALA</strong> (<ins>numero</ins>, <ins>codCine</ins><code>*</code>, aforo)<br />
· PK: (numero, codCine)<br />
· FK: (codCine) → CINE<br />
</code></p>
<p>Las tablas de datos de ejemplo demuestran que aunque la entidad débil repita número, la clave de la entidad fuerte deshace la ambigüedad:</p>
<div class="grid cards">
<ul>
<li>
<p><code>CINE</code></p>
<table>
<thead>
<tr>
<th><ins>codigo</ins></th>
<th>nombre</th>
<th>direccion</th>
</tr>
</thead>
<tbody>
<tr>
<td>1</td>
<td>ABC</td>
<td>Elche</td>
</tr>
<tr>
<td>2</td>
<td>IMF</td>
<td>Ondara</td>
</tr>
<tr>
<td>3</td>
<td>Odeón</td>
<td>Elche</td>
</tr>
</tbody>
</table>
</li>
<li>
<p><code>SALA</code></p>
<table>
<thead>
<tr>
<th><ins>numero</ins></th>
<th><ins>codCine</ins><code>*</code></th>
<th>aforo</th>
</tr>
</thead>
<tbody>
<tr>
<td>1</td>
<td>1</td>
<td>50</td>
</tr>
<tr>
<td>1</td>
<td>2</td>
<td>60</td>
</tr>
<tr>
<td>1</td>
<td>3</td>
<td>70</td>
</tr>
<tr>
<td>2</td>
<td>1</td>
<td>55</td>
</tr>
</tbody>
</table>
</li>
</ul>
</div>
<div class="admonition info">
<p class="admonition-title">Ejemplo resuelto ID</p>
<p>Supongamos el diagrama ER que vimos en la unidad 2 al tratar las <a href="02er.html#restricciones">restricciones de ID</a>. Vamos a obtener el modelo MR del mismo, teniendo en cuenta que la entidad <code>LINEA_PEDIDO</code> es una entidad débil respecto a la relación <code>CONTENER</code>, pero hace de entidad fuerte respecto a la relación <code>TENER</code>:</p>
<p><figure style="float: right;">
    <img src="images/02restriccion-id-fuerte.png" width="528" title="Restricción de ID">
    <figcaption>Restricción de ID</figcaption>
</figure></p>
<p><code>
<strong>PEDIDO</strong> (<ins>codigo</ins>, fecha)<br />
· PK: (codigo)
</code></p>
<p><code>
<strong>LINEA_PEDIDO</strong> (<ins>numero</ins>, <ins>codigo</ins><code>*</code>, concepto, valor)<br />
· PK: (numero, codigo)<br />
· FK: (codigo) → PEDIDO<br />
</code></p>
<p><code>
<strong>OBSERVACION</strong> (<ins>codigo</ins>, descripcion, numPedido<code>*</code>, codPedido<code>*</code>)<br />
· PK: (codigo)<br />
· FK: (numPedido, codPedido) → LINEA_PEDIDO<br />
· VNN: (numPedido, codPedido)
</code></p>
<p>¿Qué ha pasado con el atributo <code>PEDIDO.total</code>? <sup id="fnref:1"><a class="footnote-ref" href="#fn:1">1</a></sup></p>
</div>
<h2 id="generalizacion">Generalización<a class="headerlink" href="#generalizacion" title="Permanent link">&para;</a></h2>
<p>Cuando tenemos una relación de tipo generalización, crearemos una tabla para el padre y otra para cada hijo. Este planteamiento se conoce como <strong>explicitar</strong> las entidades.</p>
<figure style="float: right;">
    <img src="images/04generalizacion.png" width="305" title="Generalización">
    <figcaption>Generalización</figcaption>
</figure>

<p>Para ello, las subclases, las entidades hijo, tienen como clave principal y ajena la clave de la superclase, el padre. De esta manera, los hijos tienen como clave primaria la misma que el padre.</p>
<p><code>
<strong>A</strong> (<ins>a0</ins>, a1)<br />
· PK: (a0)
</code></p>
<p><code>
<strong>B</strong> (<ins>a0</ins><code>*</code>, b0, b1)<br />
· PK: (a0)<br />
· FK: (a0) → A<br />
</code></p>
<p>Independientemente de si la generalización es disjunta o solapada, o total o parcial, el modelo relacional se realiza igual, perdiendo la semántica del modelo conceptual.</p>
<figure style="float: right;">
    <img src="images/04ejemplo-gen.png" width="566" title="Ejemplo de Generalización de Persona">
    <figcaption>Ejemplo de Generalización de Persona</figcaption>
</figure>

<p>Por ejemplo, supongamos el siguiente modelo que representa la especialización de una persona en estudiante o trabajador:</p>
<p>Si explicitamos las tablas obtendremos:</p>
<p><code>
<strong>PERSONA</strong> (<ins>dni</ins>, nombre, dirección, telefono)<br />
· PK: (dni)
</code></p>
<p><code>
<strong>ESTUDIANTE</strong> (<ins>dni</ins><code>*</code>, nivelEst, lugarEst, horasCur)<br />
· PK: (dni)<br />
· FK: (dni) → PERSONA 
</code></p>
<p><code>
<strong>TRABAJADOR</strong> (<ins>dni</ins><code>*</code>, numSegSocial, salario)<br />
· PK: (dni)<br />
· FK: (dni) → PERSONA 
</code></p>
<h3 id="alternativas">Alternativas<a class="headerlink" href="#alternativas" title="Permanent link">&para;</a></h3>
<p>Otros planteamientos diferentes a explicitar consisten en:</p>
<ul>
<li>
<p><strong>Colapsar</strong>: consiste en crea un única tabla con los datos de la superclase y las subclases. Es válido cuando las subclases se diferencian en muy pocos atributos. Como desventaja, las relaciones que los asocian al resto de las entidades son las mismas para las subclases, sin poder diferenciarlas. Así pues, es un solución más rápida, pero aporta peor semántica al modelo.</p>
</li>
<li>
<p><strong>Dividir</strong>: si existen muchos atributos distintos entre las subclases y los accesos a los datos de las subclases también afectan a los atributos comunes, es mejor dividir los datos y crear una tabla por cada subclase, pero no para el padre. Este planteamiento es más eficiente en consultas sobre los hijos, pero aporta más redundancia de datos y peor semántica.</p>
</li>
</ul>
<p>Si retomamos el mismo ejemplo con estos planteamientos tendríamos:</p>
<ul>
<li>
<p>Colapsar: Una única tabla, creando un atributo tipo para indicar si es <code>estudiante</code> o <code>trabajador</code>:</p>
<p><code>
<strong>PERSONA</strong> (<ins>dni</ins>, nombre, dirección, telefono, tipo, nivelEst, lugarEst, horasCur, numSegSocial, salario)<br />
· PK: (dni)<br />
</code></p>
</li>
<li>
<p>Dividir: Una tabla por cada subclase:</p>
<p><code>
<strong>ESTUDIANTE</strong> (<ins>dni</ins>, nombre, dirección, telefono, nivelEst, lugarEst, horasCur)<br />
· PK: (dni)<br />
</code></p>
<p><code>
<strong>TRABAJADOR</strong> (<ins>dni</ins>, nombre, dirección, telefono, numSegSocial, salario)<br />
· PK: (dni)<br />
</code></p>
</li>
</ul>
<h2 id="agregacion">Agregación<a class="headerlink" href="#agregacion" title="Permanent link">&para;</a></h2>
<p>Una agregación no es más que una relación muchos a muchos, sobre la cual se relacionan otras tablas.</p>
<p>Vamos a pasar al modelo relacional el ejemplo que hicimos en la unidad de modelo conceptual, sobre las incidencias que se registran en un centro educativo.</p>
<p>El modelo ER es el siguiente, donde la entidad <code>SESION</code> es una agregación entre <code>DOCENTE</code> y <code>AULA</code>. La agregación que conceptualmente es una relación N:M se traduce en dos relaciones uno a muchos:</p>
<figure style="float: left;">
    <img src="images/02agregacion.png" width="467" title="Agregación">
    <figcaption>Agregación</figcaption>
</figure>

<p>Así pues, el modelo relacional sería:</p>
<p><code>
<strong>DOCENTE</strong> (<ins>dni</ins>, nombre)<br />
· PK: (dni)
</code></p>
<p><code>
<strong>AULA</strong> (<ins>codigo</ins>, tipo)<br />
· PK: (codigo)
</code></p>
<p>Si nos fijamos, la agregación tiene el mismo esquema que una relación muchos a muchos:</p>
<p><code>
<strong>SESION</strong> (<ins>dni</ins><code>*</code>, <ins>codigo</ins><code>*</code>, grupo)<br />
· PK: (dni, codigo)<br />
· FK: (dni) → DOCENTE <br />
· FK: (codigo) → AULA <br />
</code></p>
<p>Y al relacionar <code>INCIDENCIA</code> con <code>SESION</code>, como la clave primaria de <code>SESION</code> es compuesta, también lo será la clave ajena de la relación uno a muchos:</p>
<p><code>
<strong>INCIDENCIA</strong> (<ins>codigo</ins><code>*</code>, descripcion, dniSesion<code>*</code>, codigoSesion<code>*</code>)<br />
· PK: (codigo)<br />
· FK: (dniSesion, codigoSesion) → SESION <br />
</code></p>
<div class="admonition info">
<p class="admonition-title">Relaciones N-arias</p>
<p>Cuando tengamos relaciones de grado 3 o mayor, se transforman de forma similar a las relaciones muchos a muchos.</p>
<p>Para ello, se crea una nueva tabla con la unión de las claves primarias de las entidades relacionadas, y crearemos tantas claves ajenas como entidades relacionadas.</p>
<p>Si una de las entidades tiene cardinalidad máxima 1, se queda fuera de la clave primaria.</p>
</div>
<h2 id="de-mr-a-er">De MR a ER<a class="headerlink" href="#de-mr-a-er" title="Permanent link">&para;</a></h2>
<p>En ocasiones tendremos un modelo relacional y necesitaremos dibujar el modelo conceptual para entender bien los datos. En otras, el volver hacia atrás nos permitirá comprobar si el modelo obtenido es el resultado esperado.</p>
<p>Para ello, sabiendo las relaciones entre las claves primarias y las claves ajenas, las claves únicas y la restricciones de valor no nulo, podemos dibujar el modelo ER a partir del esquema lógico.</p>
<p>Algunas reglas que ya debes conocer son:</p>
<ul>
<li>
<p>Si un atributo es clave ajena y no es clave primaria:</p>
<ul>
<li>Si es clave única, la relación es 1:1</li>
<li>Si no, la relación es 1:N</li>
<li>Si el atributo también es valor no nulo (VNN), entonces la cardinalidad mínima es 1.</li>
</ul>
</li>
<li>
<p>Si un atributo es clave ajena y es clave primaria:</p>
<ul>
<li>Si toda la clave primaria es clave ajena, es un hijo</li>
<li>Si la clave ajena es un subconjunto incompleto de la clave primaria, es una restricción de ID</li>
<li>Si la clave ajena es un subconjunto completo de la clave primaria, es una relación N:M</li>
</ul>
</li>
</ul>
<h3 id="supuesto-i">Supuesto I<a class="headerlink" href="#supuesto-i" title="Permanent link">&para;</a></h3>
<p>Vamos a crear el modelo conceptual partiendo del siguiente modelo relacional:</p>
<p><code>
<strong>A</strong> (<ins>a0</ins>, a1, a2)<br />
· PK: (a0)
</code></p>
<p><code>
<strong>B</strong> (<ins>b0</ins>, b1, a0<code>*</code>, c0<code>*</code>)<br />
· PK: (b0)<br />
· FK: (a0) → A<br />
· FK: (c0) → D<br />
</code></p>
<p><code>
<strong>C</strong> (<ins>c0</ins>, c1, c2)<br />
· PK: (c0)
</code></p>
<p><code>
<strong>D</strong> (<ins>c0</ins>, d0)<br />
· PK: (c0)<br />
· FK: (c0) → C<br />
</code></p>
<details class="example">
<summary>Solución</summary>
<p>El primer paso es dibujar aquellas entidades que no tienen ninguna clave ajena que salga de ellas, es decir, entidades <em>"finales"</em>. Así pues empezaremos modelando la entidad <code>A</code>. Para modelar la entidad <code>B</code>, necesitamos previamente haber modelado las entidades <code>C</code> y <code>D</code>. Así pues, vamos a continuar con la entidad <code>C</code>.</p>
<p>Cuando nos planteamos la entidad <code>D</code>, vemos que tiene un atributo que es clave ajena hacía <code>D</code>, el cual además es clave primaria, por lo tanto, podemos decir que <code>D</code> es una subclase de <code>C</code>.</p>
<p>Finalmente, modelamos la entidad <code>B</code>, la cual tiene dos claves ajenas sencillas que no son claves primarias, y por lo tanto, son relaciones 1:N con las entidades a las que referencia.</p>
<p>El resultado se puede comprobar en el siguiente diagrama:</p>
<p><figure style="align: center;">
    <img src="images/04ejemploMR-ER.png" width="892" title="Supuesto MR-ER">
    <figcaption>Supuesto MR-ER</figcaption>
</figure></p>
</details>
<h3 id="supuesto-ii">Supuesto II<a class="headerlink" href="#supuesto-ii" title="Permanent link">&para;</a></h3>
<p>En este caso, vamos a realizar un ejemplo más complejo. Partimos del siguiente modelo relacional:</p>
<p><code>
<strong>A</strong> (<ins>a0</ins>, a1)<br />
· PK: (a0)
</code></p>
<p><code>
<strong>B</strong> (<ins>b0</ins><code>*</code>, b1, b2, b3<code>*</code>)<br />
· PK: (b0)<br />
· FK: (b0) → A<br />
· FK: (b3) → C<br />
· VNN: (b3)
</code></p>
<p><code>
<strong>C</strong> (<ins>c0</ins><code>*</code>, c1)<br />
· PK: (c0)<br />
· FK: (c0) → A<br />
</code></p>
<p><code>
<strong>D</strong> (<ins>d0</ins>, d1, <ins>d2</ins><code>*</code>)<br />
· PK: (d0, d2)<br />
· FK: (d2) → C<br />
</code></p>
<p><code>
<strong>E</strong> (<ins>e0</ins><code>*</code>, <ins>e1</ins><code>*</code>, <ins>e2</ins><code>*</code>, e3)<br />
· PK: (e0, e1, e2)<br />
· FK: (e0) → A<br />
· FK: (e1, e2) → D<br />
</code></p>
<details class="example">
<summary>Solución</summary>
<p>En este caso, el orden de creación de las entidades serán <code>A</code>, luego <code>C</code> y <code>D</code>, y finalmente <code>B</code> y <code>E</code>.</p>
<p>En caso de <code>C</code>, al tener una clave ajena que es una clave primaria (completa), entonces <code>C</code> es una subclase de <code>A</code>.
Respecto a <code>D</code>, en este caso tenemos una clave ajena, pero que forma parte de la clave primaria (es un subconjunto de la clave primaria), y por tanto, es una restricción de identificación respecto a la entidad <code>C</code>.</p>
<p>Una vez tenemos <code>A</code>, <code>C</code> y <code>D</code>, nos centramos en <code>B</code>. <code>B</code> sigue la misma estructura que <code>C</code>, por lo tanto, <code>B</code> también es una subclase de <code>A</code>, y además tiene otra clave ajena marcada como valor no nulo, que implica que es una relación 1:N (al no estar marcado como clave única), pero que sí tiene una cardinalidad mínima a 1 (por el valor no nulo).</p>
<p>Para terminar, la entidad <code>E</code> tiene dos claves ajenas que cubren toda la clave primaria. Por lo tanto, es una relación N:M entre <code>A</code> y <code>D</code>.</p>
<p>El resultado se puede comprobar en el siguiente diagrama:</p>
<p><figure style="align: center;">
    <img src="images/04ejemploMR-ER2.png" width="977" title="Supuesto II MR-ER">
    <figcaption>Supuesto II MR-ER</figcaption>
</figure></p>
</details>
<h2 id="referencias">Referencias<a class="headerlink" href="#referencias" title="Permanent link">&para;</a></h2>
<ul>
<li>
<p>Herramienta gráfica <a href="https://erdplus.com/">ERDPlus</a> para la realización de diagramas de modelos relacionales.</p>
</li>
<li>
<p>Materiales sobre el módulo de <abbr title="Base de datos">BD</abbr>:</p>
<ul>
<li><em><a href="https://ioc.xtec.cat/materials/FP/Recursos/fp_dam_m02_/web/fp_dam_m02_htmlindex/WebContent/u3/a1/continguts.html">Model Relacional</a> - Institut Obert de Catalunya</em></li>
<li><a href="https://jorgesanchez.net/manuales/gbd/diseno-logico-relacional.html">Diseño lógico relacional</a> de <em>Jorge Sánchez</em></li>
<li><a href="https://apuntes-daw.javiergutierrez.trade/bases-de-datos/ut3/recopila.html">Bases de datos relacionales</a> de <em>Javier Gutiérrez</em></li>
<li><a href="https://gestionbasesdatos.readthedocs.io/es/latest/Tema2/index.html">Diseño de modelo lógicos normalizados</a> de gestionbasesdatos.readthedocs.io</li>
<li><a href="https://www.cs.us.es/cursos/bd-2023/temas/BD-Tema-2.pdf">Diseño lógico</a>, por <em>Luis Valencia</em> y <em>David Orellana</em>, de la <em>Universidad de Sevilla</em>.</li>
</ul>
</li>
</ul>
<h2 id="actividades">Actividades<a class="headerlink" href="#actividades" title="Permanent link">&para;</a></h2>
<p><a name="AC401"></a></p>
<ul>
<li>
<p><strong>AC401</strong>. (<abbr title="Diseña modelos relacionales normalizados interpretando diagramas entidad/relación.">RABD.6</abbr> // <abbr title="Se han utilizado herramientas gráficas para representar el diseño lógico.">CE6a</abbr>, <abbr title="Se han identificado las tablas del diseño lógico.">CE6b</abbr>, <abbr title="Se han identificado los campos que forman parte de las tablas del diseño lógico.">CE6c</abbr>, <abbr title="Se han analizado las relaciones entre las tablas del diseño lógico.">CE6d</abbr>, <abbr title="Se han identificado los campos clave.">CE6e</abbr>, CE6gc // 3p) Supongamos el siguiente modelo ER donde representamos un sistema de información donde modelamos los datos de un entrenador y los jugadores de un equipo de baloncesto. De momento, sólo modelamos la relación entre el entrenador y los jugadores:</p>
<p><figure style="align: center;">
    <img src="images/04ac401.png" width="694" title="Actividad 401">
    <figcaption>Actividad 401</figcaption>
</figure></p>
<p>Obtén el esquema relacional y a continuación, mediante ERDPlus, dibuja el modelo relacional.</p>
</li>
</ul>
<p><a name="AC402"></a></p>
<ul>
<li>
<p><strong>AC402</strong>. (<abbr title="Diseña modelos relacionales normalizados interpretando diagramas entidad/relación.">RABD.6</abbr> // <abbr title="Se han utilizado herramientas gráficas para representar el diseño lógico.">CE6a</abbr>, <abbr title="Se han identificado las tablas del diseño lógico.">CE6b</abbr>, <abbr title="Se han identificado los campos que forman parte de las tablas del diseño lógico.">CE6c</abbr>, <abbr title="Se han analizado las relaciones entre las tablas del diseño lógico.">CE6d</abbr>, <abbr title="Se han identificado los campos clave.">CE6e</abbr>, CE6gc // 3p) Sobre el ejercicio anterior, vamos a añadir la entidad <code>EQUIPO</code> con el nombre del mismo, su logotipo, dirección y año de creación. Claramente, cada equipo sólo tiene un único entrenador, y un entrenador sólo puede serlo de un equipo.</p>
<p>Se pide:</p>
<ul>
<li>Modifica el modelo ER para añadir la nueva entidad y la relación necesaria</li>
<li>Modifica el modelo relacional a partir del nuevo modelo ER.</li>
</ul>
</li>
</ul>
<p><a name="AC403"></a></p>
<ul>
<li>
<p><strong>AC403</strong>. (<abbr title="Diseña modelos relacionales normalizados interpretando diagramas entidad/relación.">RABD.6</abbr> // <abbr title="Se han utilizado herramientas gráficas para representar el diseño lógico.">CE6a</abbr>, <abbr title="Se han identificado las tablas del diseño lógico.">CE6b</abbr>, <abbr title="Se han identificado los campos que forman parte de las tablas del diseño lógico.">CE6c</abbr>, <abbr title="Se han analizado las relaciones entre las tablas del diseño lógico.">CE6d</abbr>, <abbr title="Se han identificado los campos clave.">CE6e</abbr>, CE6gc // 3p) Tenemos el siguiente modelo ER que representa las diferentes ediciones que de un libro publica una editorial, y los autores que escriben los libros:</p>
<p><figure style="align: center;">
    <img src="images/04ac403.png" width="1020" title="Actividad 403">
    <figcaption>Actividad 403</figcaption>
</figure></p>
<p>Obtén el esquema relacional y completa el diccionario de datos.</p>
</li>
</ul>
<p><a name="AR404"></a></p>
<ul>
<li>
<p><strong>AR404</strong>. (<abbr title="Diseña modelos relacionales normalizados interpretando diagramas entidad/relación.">RABD.6</abbr> // <abbr title="Se han utilizado herramientas gráficas para representar el diseño lógico.">CE6a</abbr>, <abbr title="Se han identificado las tablas del diseño lógico.">CE6b</abbr>, <abbr title="Se han identificado los campos que forman parte de las tablas del diseño lógico.">CE6c</abbr>, <abbr title="Se han analizado las relaciones entre las tablas del diseño lógico.">CE6d</abbr>, <abbr title="Se han identificado los campos clave.">CE6e</abbr>, <abbr title="Se han aplicado reglas de integridad.">CE6f</abbr> // 3p) Realiza el esquema lógico mediante un modelo relacional del siguiente modelo ER (es la solución del <a href="02er.html#supuesto-carreteras">Supuesto de Carreteras</a> de la sesión de Modelo ER):</p>
<p><figure style="align: center;">
    <img src="images/02solucion-carretera.png" width="850" title="Actividad 404">
    <figcaption>Actividad 404</figcaption>
</figure></p>
</li>
</ul>
<p><a name="AP405"></a></p>
<ul>
<li>
<p><strong>AP405</strong>. (<abbr title="Diseña modelos relacionales normalizados interpretando diagramas entidad/relación.">RABD.6</abbr> // <abbr title="Se han utilizado herramientas gráficas para representar el diseño lógico.">CE6a</abbr>, <abbr title="Se han identificado las tablas del diseño lógico.">CE6b</abbr>, <abbr title="Se han identificado los campos que forman parte de las tablas del diseño lógico.">CE6c</abbr>, <abbr title="Se han analizado las relaciones entre las tablas del diseño lógico.">CE6d</abbr>, <abbr title="Se han identificado los campos clave.">CE6e</abbr>, <abbr title="Se han aplicado reglas de integridad.">CE6f</abbr> // 3p) Tenemos el siguiente modelo ER sobre la organización de una empresa en departamentos y las características de sus empleados:</p>
<p><figure style="align: center;">
    <img src="images/04ap405.png" width="819" title="Actividad 405">
    <figcaption>Actividad 405</figcaption>
</figure></p>
<p>Obtén el esquema relacional e indica las cardinalidades de las relaciones.</p>
</li>
</ul>
<p><a name="AC406"></a></p>
<ul>
<li>
<p><strong>AC406</strong>. (<abbr title="Diseña modelos relacionales normalizados interpretando diagramas entidad/relación.">RABD.6</abbr> // <abbr title="Se han utilizado herramientas gráficas para representar el diseño lógico.">CE6a</abbr>, <abbr title="Se han identificado las tablas del diseño lógico.">CE6b</abbr>, <abbr title="Se han identificado los campos que forman parte de las tablas del diseño lógico.">CE6c</abbr>, <abbr title="Se han analizado las relaciones entre las tablas del diseño lógico.">CE6d</abbr>, <abbr title="Se han identificado los campos clave.">CE6e</abbr>, <abbr title="Se han aplicado reglas de integridad.">CE6f</abbr> // 3p) A partir del siguiente modelo ER que contiene restricciones de cardinalidad mínima una y restricciones de identificación, se pide:</p>
<p><figure style="float: right;">
    <img src="images/04ac406.png" width="490" title="Actividad 406">
    <figcaption>Actividad 406</figcaption>
</figure></p>
<ul>
<li>Genera el modelo relacional.</li>
<li>Indica las cardinalidades de las relaciones.</li>
<li>Rellena tres tablas con datos ficticios (al menos 3 registros por tabla), ya sean datos relacionados o no, conforme consideres.</li>
</ul>
</li>
</ul>
<p><a name="AC407"></a></p>
<ul>
<li>
<p><strong>AC407</strong>. (<abbr title="Diseña modelos relacionales normalizados interpretando diagramas entidad/relación.">RABD.6</abbr> // <abbr title="Se han utilizado herramientas gráficas para representar el diseño lógico.">CE6a</abbr>, <abbr title="Se han identificado las tablas del diseño lógico.">CE6b</abbr>, <abbr title="Se han identificado los campos que forman parte de las tablas del diseño lógico.">CE6c</abbr>, <abbr title="Se han analizado las relaciones entre las tablas del diseño lógico.">CE6d</abbr>, <abbr title="Se han identificado los campos clave.">CE6e</abbr>, <abbr title="Se han aplicado reglas de integridad.">CE6f</abbr> // 3p) Crea el modelo relacional a partir del modelo conceptual presentado en la <a href="02er.html#AC203">actividad 203</a> sobre un centro educativo.</p>
<p><figure style="align: center;">
    <img src="images/02ac203.png" width="1000" title="Modelo ER Centro Educativo">
    <figcaption>Modelo ER Centro Educativo</figcaption>
</figure></p>
</li>
</ul>
<p><a name="PR408"></a></p>
<ul>
<li>
<p><strong>PR408</strong>. (<abbr title="Diseña modelos relacionales normalizados interpretando diagramas entidad/relación.">RABD.6</abbr> // <abbr title="Se han utilizado herramientas gráficas para representar el diseño lógico.">CE6a</abbr>, <abbr title="Se han identificado las tablas del diseño lógico.">CE6b</abbr>, <abbr title="Se han identificado los campos que forman parte de las tablas del diseño lógico.">CE6c</abbr>, <abbr title="Se han analizado las relaciones entre las tablas del diseño lógico.">CE6d</abbr>, <abbr title="Se han identificado los campos clave.">CE6e</abbr>, <abbr title="Se han aplicado reglas de integridad.">CE6f</abbr> // 10p) Crea el modelo relacional a partir del modelo conceptual presentado en la <a href="02er.html#AC214">actividad 214</a> sobre una cocina de un restaurante.</p>
<p><figure style="align: center;">
    <img src="images/02cocina.png" width="1080" title="Modelo ER Cocina">
    <figcaption>Modelo ER Cocina</figcaption>
</figure></p>
</li>
</ul>
<p><a name="AC409"></a></p>
<ul>
<li>
<p><strong>AC409</strong>. (<abbr title="Diseña modelos relacionales normalizados interpretando diagramas entidad/relación.">RABD.6</abbr> // <abbr title="Se han utilizado herramientas gráficas para representar el diseño lógico.">CE6a</abbr>, <abbr title="Se han identificado los campos clave.">CE6e</abbr> // 3p)) A partir de los siguientes esquemas lógicos, dibuja el modelo ER:</p>
<ol>
<li>
<p>Esquema 1</p>
<p><code>
<strong>A</strong> (<ins>a0</ins>, a1)<br />
· PK: (a0)
</code></p>
<p><code>
<strong>B</strong> (b0, b1, b2, <ins>a0</ins><code>*</code>, c0<code>*</code>)<br />
· PK: (a0)<br />
· FK: (a0) → A<br />
· FK: (c0) → C<br />
</code></p>
<p><code>
<strong>C</strong> (<ins>c0</ins>, c1)<br />
· PK: (c0)
</code></p>
<p><code>
<strong>M</strong> (<ins>c0</ins><code>*</code>, <ins>m</ins>, n)<br />
· PK: (c0, m)<br />
· FK: (c0) → C<br />
</code></p>
</li>
<li>
<p>Esquema 2</p>
<p><code>
<strong>A</strong> (<ins>a0</ins>, a1, bo<code>*</code>)<br />
· PK: (a0)<br />
· UK: (b0)<br />
· VNN: (b0)<br />
· FK: (b0) → B<br />
</code></p>
<p><code>
<strong>B</strong> (b0, b1)<br />
· PK: (b0)<br />
</code></p>
<p><code>
<strong>C</strong> (<ins>b0</ins><code>*</code>, <ins>a0</ins><code>*</code>, c0)<br />
· PK: (b0, a0)<br />
· FK: (b0) → B<br />
· FK: (a0) → A<br />
· VNN: (c0)
</code></p>
</li>
</ol>
</li>
</ul>
<p><a name="AC410"></a></p>
<ul>
<li>
<p><strong>AC410</strong>. (<abbr title="Diseña modelos relacionales normalizados interpretando diagramas entidad/relación.">RABD.6</abbr> // <abbr title="Se han utilizado herramientas gráficas para representar el diseño lógico.">CE6a</abbr>, <abbr title="Se han identificado los campos clave.">CE6e</abbr> // 3p) A partir del siguiente modelo relacional, dibuja el diagrama ER:</p>
<p><code>
<strong>EMPLEADO</strong> (<ins>num</ins>, dni, nombre, direccion, banco)<br />
· PK: (num)
· UK: (dni)
</code></p>
<p><code>
<strong>MEDICO</strong> (<ins>num</ins><code>*</code>, espec, anyo)<br />
· PK: (num)<br />
· FK: (num) → EMPLEADO<br />
</code></p>
<p><code>
<strong>SOCIO</strong> (<ins>num</ins><code>*</code>, dni, nombre, direccion, fechaNac, banco, medicoChequeo<code>*</code>, fechaChequeo, resultadoChequeo)<br />
· PK: (num)<br />
· UK: (dni)<br />
· FK: (num) → EMPLEADO<br />
· FK: (medicoChequeo) → MEDICO<br />
</code></p>
<p><code>
<strong>TAQUILLA</strong> (<ins>num</ins><code>*</code>, estado, tamaño)<br />
· PK: (nun)<br />
</code></p>
<p><code>
<strong>FIJA</strong> (<ins>num</ins><code>*</code>, socio<code>*</code>)<br />
· PK: (num)<br />
· FK: (num) → TAQUILLA<br />
· FK: (socio) → SOCIO<br />
</code></p>
<p><code>
<strong>DIARIA</strong> (<ins>num</ins><code>*</code>, socio<code>*</code>)<br />
· PK: (num)<br />
· FK: (num) → TAQUILLA<br />
· FK: (socio) → SOCIO<br />
</code></p>
<p><code>
<strong>DISCIPLINA</strong> (<ins>nombre</ins>, descripcion)<br />
· PK: (nombre)
</code></p>
<p><code>
<strong>MONITOR</strong> (<ins>num</ins><code>*</code>, fnac, disciplina<code>*</code>)<br />
· PK: (num)<br />
· FK: (num) → EMPLEADO<br />
· FK: (disciplina) → DISCIPLINA<br />
</code></p>
<p><code>
<strong>SESION</strong> (<ins>dia</ins>, <ins>hora</ins>, <ins>sala</ins>, monitor<code>*</code>, disciplina<code>*</code>)<br />
· PK: (dia, hora, sala)<br />
· FK: (monitor) → MONITOR<br />
· FK: (disciplina) → DISCIPLINA<br />
· VNN: (monitor)<br />
· VNN: (disciplina)<br />
</code></p>
<p><code>
<strong>TECNICO</strong> (<ins>num</ins><code>*</code>)<br />
· PK: (num)<br />
· FK: (num) → EMPLEADO<br />
</code></p>
<p><code>
<strong>MODELO</strong> (<ins>codigo</ins>, descripcion, empresas, tecnico<code>*</code>)<br />
· PK: (codigo)<br />
· FK: (tecnico) → TECNICO<br />
</code></p>
<p><code>
<strong>APARATO</strong> (<ins>num</ins>, <ins>codigo</ins><code>*</code>, fechaAdquisic, estado)<br />
· PK: (num, codigo)<br />
· FK: (codigo) → MODELO<br />
</code></p>
</li>
</ul>
<p><a name="AR411"></a></p>
<ul>
<li>
<p><strong>AR411</strong>. (<abbr title="Diseña modelos relacionales normalizados interpretando diagramas entidad/relación.">RABD.6</abbr> // <abbr title="Se han utilizado herramientas gráficas para representar el diseño lógico.">CE6a</abbr>, <abbr title="Se han identificado los campos clave.">CE6e</abbr> // 3p) A partir del siguiente modelo relacional, dibuja el diagrama ER:</p>
<p><code>
<strong>EDIFICIO</strong> (<ins>num</ins>, numPlantas, gestor<code>*</code>)<br />
· PK: (num)<br />
· FK: (gestor) → GESTOR<br />
</code></p>
<p><code>
<strong>GESTOR</strong> (<ins>codigo</ins>, nombre, apellido1, apellido2, salario, residencia<code>*</code>)<br />
· PK: (codigo)<br />
· FK: (residencia) → EDIFICIO<br />
· UK: (residencia)
</code></p>
<p><code>
<strong>INSPECTOR</strong> (<ins>codigo</ins>, nombre) <br />
· PK: (codigo) 
</code></p>
<p><code>
<strong>SUPERVISAR</strong> (<ins>codigo</ins><code>*</code>, <ins>num</ins><code>*</code>, fUltima, fSiguiente)<br />
· PK: (codigo, num)<br />
· FK: (codigo) → INSPECTOR<br />
· FK: (num) → EDIFICIO
</code></p>
<p><code>
<strong>TRABAJADOR</strong> (<ins>codigo</ins>, nombre)<br />
· PK: (codigo) 
</code></p>
<p><code>
<strong>APARTAMENTO</strong> (<ins>numA</ins>, <ins>numE</ins><code>*</code>, dormitorios)  <br />
· PK: (numA, numE)<br />
· FK: (numE) → EDIFICIO 
</code>   </p>
<p><code>
<strong>LIMPIAR</strong> (<ins>codigo</ins><code>*</code>, <ins>numA</ins><code>*</code>, <ins>numE</ins><code>*</code>)<br />
· PK: (codigo, numA, numE)<br />
· FK: (numA, numE) → APARTAMENTO<br />
· FK: (codigo) → TRABAJADOR 
</code>   </p>
</li>
</ul>
<p><a name="AP412"></a></p>
<ul>
<li>
<p><strong>AP412</strong>. (<abbr title="Diseña modelos relacionales normalizados interpretando diagramas entidad/relación.">RABD.6</abbr> // <abbr title="Se han utilizado herramientas gráficas para representar el diseño lógico.">CE6a</abbr>, <abbr title="Se han identificado los campos clave.">CE6e</abbr> // 3p) Una vez realizada la actividad <a href="#AR411">AR411</a>, añade en el modelo ER una entidad <code>PERSONA</code> a modo de generalización de las tablas <code>GESTOR</code>, <code>INSPECTOR</code> y <code>TRABAJADOR</code>.</p>
<p>Crea las tablas en el modelo relacional, modificando aquellas que sean necesarias, y comprueba si las tablas que dependen de ellas también deben modificarse.</p>
</li>
</ul>
<p><a name="AC413"></a></p>
<ul>
<li>
<p><strong>AC413</strong>. (<abbr title="Diseña modelos relacionales normalizados interpretando diagramas entidad/relación.">RABD.6</abbr> // <abbr title="Se han utilizado herramientas gráficas para representar el diseño lógico.">CE6a</abbr>, <abbr title="Se han identificado las tablas del diseño lógico.">CE6b</abbr>, <abbr title="Se han identificado los campos que forman parte de las tablas del diseño lógico.">CE6c</abbr>, <abbr title="Se han analizado las relaciones entre las tablas del diseño lógico.">CE6d</abbr>, <abbr title="Se han identificado los campos clave.">CE6e</abbr>, <abbr title="Se han aplicado reglas de integridad.">CE6f</abbr>, <abbr title="Se han aplicado reglas de normalización.">CE6g</abbr> // 3p) A partir del siguiente modelo relacional:</p>
<p><code>
<strong>EQUIPO</strong> (<ins>num</ins>, fUltimaRevision, fAlta, detalle<code>*</code>)<br />
· PK: (num)<br />
· FK: (detalle) → DETALLE_EQUIPO<br />
· VNN: (detalle)<br />
</code></p>
<p><code>
<strong>DETALLE_EQUIPO</strong> (<ins>codigo</ins>, tipo, modelo, fUltimaRevision)<br />
· PK: (codigo)<br />
</code></p>
<p><code>
<strong>VENTA</strong> (<ins>codigo</ins>, precio, fecha, equipo<code>*</code>, cliente<code>*</code>, comercial<code>*</code>)<br />
· PK: (num)<br />
· FK: (equipo) → EQUIPO<br />
· FK: (cliente) → CLIENTE<br />
· FK: (comercial) → COMERCIAL<br />
· VNN: (equipo)<br />
· VNN: (cliente)<br />
· VNN: (comercial)<br />
</code></p>
<p><code>
<strong>ALQUILER</strong> (<ins>codigo</ins>, precio, fecha, equipo<code>*</code>, cliente<code>*</code>, comercial<code>*</code>)<br />
· PK: (num)<br />
· FK: (equipo) → EQUIPO<br />
· FK: (cliente) → CLIENTE<br />
· FK: (comercial) → COMERCIAL<br />
· VNN: (equipo)<br />
· VNN: (cliente)<br />
· VNN: (comercial)<br />
</code></p>
<p><code>
<strong>CLIENTE</strong> (<ins>id</ins>, nombre, categoría)<br />
· PK: (id)<br />
</code></p>
<p><code>
<strong>COMERCIAL</strong> (<ins>codigo</ins>, nombre, apellido1, rango, mentor<code>*</code>)<br />
· PK: (id)<br />
· FK: (mentor) → COMERCIAL<br />
</code></p>
<p>Contesta a las siguientes preguntas argumentado tus respuestas:</p>
<ol>
<li>¿Puede un <code>EQUIPO</code> tener más de un <code>DETALLE_EQUIPO</code>?</li>
<li>¿Puede un <code>COMERCIAL</code> vender varios <code>EQUIPO</code>?</li>
<li>¿Un <code>ALQUILER</code> cuantos <code>DETALLE_EQUIPO</code> tendrá?</li>
<li>¿Puede un <code>CLIENTE</code> alquilar y vender el mismo <code>EQUIPO</code>?</li>
<li>¿Podemos averiguar que <code>COMERCIAL</code> vendió un determinado <code>EQUIPO</code>?</li>
<li>¿Una persona puede ser <code>CLIENTE</code> y <code>COMERCIAL</code> a la vez?</li>
<li>¿Todo <code>COMERCIAL</code> debe tener un mentor?</li>
<li>¿Un <code>COMERCIAL</code> puede tener varios mentores o un mentor puede mentorizar a varios comerciales?</li>
</ol>
</li>
</ul>
<p><a name="PY414"></a></p>
<ul>
<li>
<p><strong>PY414</strong>. (<abbr title="Diseña modelos relacionales normalizados interpretando diagramas entidad/relación.">RABD.6</abbr> // <abbr title="Se han utilizado herramientas gráficas para representar el diseño lógico.">CE6a</abbr>, <abbr title="Se han identificado las tablas del diseño lógico.">CE6b</abbr>, <abbr title="Se han identificado los campos que forman parte de las tablas del diseño lógico.">CE6c</abbr>, <abbr title="Se han analizado las relaciones entre las tablas del diseño lógico.">CE6d</abbr>, <abbr title="Se han identificado los campos clave.">CE6e</abbr>, <abbr title="Se han aplicado reglas de integridad.">CE6f</abbr>, <abbr title="Se han aplicado reglas de normalización.">CE6g</abbr> // 30p) Una vez finalizamos el bloque de <em>Diseño de bases de datos,</em> ya estamos en condiciones de afrontar el reto <a href="02er.html#reto-i-disenamos">Diseñamos</a>.</p>
<p>Para ello, a partir del modelo conceptual obtenido en la <a href="02er.html#PR215">actividad 215</a>, cada equipo debe entregar:</p>
<ul>
<li>El modelo ER</li>
<li>El modelo MR obtenido a partir del modelo ER</li>
<li>Comprobación de que el modelo MR está normalizado</li>
<li>Diccionario de datos del MR</li>
</ul>
<p>En las fechas indicadas por el docente, cada equipo entregará un informe con los diferentes artefactos generados y presentará al resto de la clase los modelos generados, mediante un exposición de máximo 10 minutos por equipo.</p>
<p>Se utilizará una rúbrica para su evaluación en base a la siguiente lista de cotejo:</p>
<ul>
<li>El modelo relacional refleja todo el modelo conceptual.</li>
<li>Se argumentan las decisiones de diseño tomadas por el equipo. </li>
<li>Se justifica que el modelo relacional obtenido está normalizado.</li>
<li>El diccionario de datos está completo.</li>
<li>El informe entregado no contiene faltas de ortografía.</li>
<li>El informe entregado tiene un formato adecuado (portada, apartados, autores, etc...).</li>
<li>Todo el equipo participa tanto en el informe como en la exposición de forma equitativa.</li>
</ul>
</li>
</ul>
<p><a name="PO415"></a></p>
<!-- prueba objetiva -->
<ul>
<li>
<p><span class="twemoji"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20.71 7.04c-.34.34-.67.67-.68 1-.03.32.31.65.63.96.48.5.95.95.93 1.44s-.53 1-1.04 1.5l-4.13 4.14L15 14.66l4.25-4.24-.96-.96-1.42 1.41-3.75-3.75 3.84-3.83c.39-.39 1.04-.39 1.41 0l2.34 2.34c.39.37.39 1.02 0 1.41M3 17.25l9.56-9.57 3.75 3.75L6.75 21H3z"/></svg></span> <strong>PO415</strong>. (<abbr title="Diseña modelos relacionales normalizados interpretando diagramas entidad/relación.">RABD.6</abbr> // <abbr title="Se han utilizado herramientas gráficas para representar el diseño lógico.">CE6a</abbr>, <abbr title="Se han identificado las tablas del diseño lógico.">CE6b</abbr>, <abbr title="Se han identificado los campos que forman parte de las tablas del diseño lógico.">CE6c</abbr>, <abbr title="Se han analizado las relaciones entre las tablas del diseño lógico.">CE6d</abbr>, <abbr title="Se han identificado los campos clave.">CE6e</abbr>, <abbr title="Se han aplicado reglas de integridad.">CE6f</abbr>, <abbr title="Se han aplicado reglas de normalización.">CE6g</abbr> // 30p) La prueba objetiva que agrupa todo el resultado de aprendizaje consistirá en:</p>
<ul>
<li>Crear un modelo ER a partir de un sistema de información</li>
<li>Interpreta un modelo ER</li>
<li>Crear un modelo relacional a partir de un modelo ER (basado en uno de los modelos generados en el reto de la actividad anterior)</li>
<li>Crear un modelo ER a partir de un modelo relacional</li>
</ul>
</li>
</ul>
<p><a name="AR416"></a></p>
<ul>
<li><span class="twemoji"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 3c3.88 0 7 3.14 7 7 0 2.8-1.63 5.19-4 6.31V21H9v-3H8c-1.11 0-2-.89-2-2v-3H4.5c-.42 0-.66-.5-.42-.81L6 9.66A7.003 7.003 0 0 1 13 3m-2.68 4.39h1.93c.01-.3.1-.53.28-.69a1 1 0 0 1 .66-.23c.31 0 .57.1.75.28.18.19.26.45.26.75 0 .32-.07.59-.23.82-.14.23-.35.43-.61.59-.51.34-.86.64-1.05.91-.2.26-.31.68-.31 1.18h2c0-.31.04-.56.13-.74.09-.19.26-.36.51-.52.45-.24.82-.53 1.11-.93s.44-.81.44-1.31c0-.76-.27-1.37-.81-1.82-.53-.45-1.26-.68-2.19-.68-.87 0-1.57.2-2.11.59-.52.41-.78.98-.77 1.77zM12 14h2v-2h-2zm1-13C8.41 1 4.61 4.42 4.06 8.9L2.5 11h-.03l-.02.03c-.55.76-.62 1.76-.19 2.59.36.69 1 1.17 1.74 1.32V16c0 1.85 1.28 3.42 3 3.87V23h11v-5.5c2.5-1.67 4-4.44 4-7.5 0-4.97-4.04-9-9-9"/></svg></span> <strong>AR416</strong>. (<abbr title="Diseña modelos relacionales normalizados interpretando diagramas entidad/relación.">RABD.6</abbr> // <abbr title="Se han identificado las tablas del diseño lógico.">CE6b</abbr>, <abbr title="Se han identificado los campos que forman parte de las tablas del diseño lógico.">CE6c</abbr>, <abbr title="Se han analizado las relaciones entre las tablas del diseño lógico.">CE6d</abbr>, <abbr title="Se han identificado los campos clave.">CE6e</abbr>, <abbr title="Se han aplicado reglas de integridad.">CE6f</abbr>, <abbr title="Se han aplicado reglas de normalización.">CE6g</abbr> // 3p) Una vez finalizada la unidad, responde todas las preguntas del cuestionario inicial, con al menos un par de líneas para cada una de las cuestiones.</li>
</ul>
<!--
TODO: UT04

    * pdf pg 101
    * revisar CEs actividades
    * Programación de Aula... repensar
-->

<div class="footnote">
<hr />
<ol>
<li id="fn:1">
<p>Que al tratarse de un atributo derivado, no se traduce al modelo relacional, si no que formará parte de la aplicación que después se encargará de obtener el dato mediante una consulta.&#160;<a class="footnote-backref" href="#fnref:1" title="Jump back to footnote 1 in the text">&#8617;</a></p>
</li>
</ol>
</div>







  
  



  



  <form class="md-feedback" name="feedback" hidden>
    <fieldset>
      <legend class="md-feedback__title">
        <a href='https://ko-fi.com/T6T8GWT9N' title='Invítame a un café en ko-fi.com' target='_blank'><img height='36' style='border:0px;height:36px;' src='https://storage.ko-fi.com/cdn/kofi2.png?v=3' border='0' alt='Invítame a un café en ko-fi.com' /></a>
      </legend>
      <div class="md-feedback__inner">
        <div class="md-feedback__list">
          
            <button class="md-feedback__icon md-icon" type="submit" title="Me encantan estos apuntes" data-md-value="1">
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 12a8 8 0 0 0-8-8 8 8 0 0 0-8 8 8 8 0 0 0 8 8 8 8 0 0 0 8-8m2 0a10 10 0 0 1-10 10A10 10 0 0 1 2 12 10 10 0 0 1 12 2a10 10 0 0 1 10 10M10 9.5c0 .8-.7 1.5-1.5 1.5S7 10.3 7 9.5 7.7 8 8.5 8s1.5.7 1.5 1.5m7 0c0 .8-.7 1.5-1.5 1.5S14 10.3 14 9.5 14.7 8 15.5 8s1.5.7 1.5 1.5m-5 7.73c-1.75 0-3.29-.73-4.19-1.81L9.23 14c.45.72 1.52 1.23 2.77 1.23s2.32-.51 2.77-1.23l1.42 1.42c-.9 1.08-2.44 1.81-4.19 1.81"/></svg>
            </button>
          
            <button class="md-feedback__icon md-icon" type="submit" title="Los apuntes son mejorables" data-md-value="0">
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 12a8 8 0 0 0-8-8 8 8 0 0 0-8 8 8 8 0 0 0 8 8 8 8 0 0 0 8-8m2 0a10 10 0 0 1-10 10A10 10 0 0 1 2 12 10 10 0 0 1 12 2a10 10 0 0 1 10 10m-6.5-4c.8 0 1.5.7 1.5 1.5s-.7 1.5-1.5 1.5-1.5-.7-1.5-1.5.7-1.5 1.5-1.5M10 9.5c0 .8-.7 1.5-1.5 1.5S7 10.3 7 9.5 7.7 8 8.5 8s1.5.7 1.5 1.5m2 4.5c1.75 0 3.29.72 4.19 1.81l-1.42 1.42C14.32 16.5 13.25 16 12 16s-2.32.5-2.77 1.23l-1.42-1.42C8.71 14.72 10.25 14 12 14"/></svg>
            </button>
          
        </div>
        <div class="md-feedback__note">
          
            <div data-md-value="1" hidden>
              
              
                
              
              Gracias por tu tiempo. Si quieres me puedes <a href='https://ko-fi.com/T6T8GWT9N'>invitar a un café en ko-fi</a>.
            </div>
          
            <div data-md-value="0" hidden>
              
              
                
              
              ¡Gracias por tu colaboración! Ayúdame a mejorar los apuntes enviándome un mail a <a href="mailto:a.medrano@edu.gva.es">a.medrano@edu.gva.es</a> con tus comentarios.
            </div>
          
        </div>
      </div>
    </fieldset>
  </form>


                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
          <button type="button" class="md-top md-icon" data-md-component="top" hidden>
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8z"/></svg>
  Volver al principio
</button>
        
      </main>
      
        <footer class="md-footer">
  
    
      
      <nav class="md-footer__inner md-grid" aria-label="Pie" >
        
          
          <a href="03mr.html" class="md-footer__link md-footer__link--prev" aria-label="Anterior: 3.- Diseño lógico: Modelo Relacional">
            <div class="md-footer__button md-icon">
              
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
            </div>
            <div class="md-footer__title">
              <span class="md-footer__direction">
                Anterior
              </span>
              <div class="md-ellipsis">
                3.- Diseño lógico: Modelo Relacional
              </div>
            </div>
          </a>
        
        
          
          <a href="05ddl.html" class="md-footer__link md-footer__link--next" aria-label="Siguiente: 5.- Diseño físico: DDL y DML">
            <div class="md-footer__title">
              <span class="md-footer__direction">
                Siguiente
              </span>
              <div class="md-ellipsis">
                5.- Diseño físico: DDL y DML
              </div>
            </div>
            <div class="md-footer__button md-icon">
              
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11z"/></svg>
            </div>
          </a>
        
      </nav>
    
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
    <div class="md-copyright__highlight">
      2024-2025 Aitor Medrano - <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/deed.es">Licencia CC BY-NC-SA</a>
    </div>
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
        <div class="md-social">
  
    
    
    
    
      
      
    
    <a href="https://aitor-medrano.github.io/" target="_blank" rel="noopener" title="aitor-medrano.github.io" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M16.36 14c.08-.66.14-1.32.14-2s-.06-1.34-.14-2h3.38c.16.64.26 1.31.26 2s-.1 1.36-.26 2m-5.15 5.56c.6-1.11 1.06-2.31 1.38-3.56h2.95a8.03 8.03 0 0 1-4.33 3.56M14.34 14H9.66c-.1-.66-.16-1.32-.16-2s.06-1.35.16-2h4.68c.09.65.16 1.32.16 2s-.07 1.34-.16 2M12 19.96c-.83-1.2-1.5-2.53-1.91-3.96h3.82c-.41 1.43-1.08 2.76-1.91 3.96M8 8H5.08A7.92 7.92 0 0 1 9.4 4.44C8.8 5.55 8.35 6.75 8 8m-2.92 8H8c.35 1.25.8 2.45 1.4 3.56A8 8 0 0 1 5.08 16m-.82-2C4.1 13.36 4 12.69 4 12s.1-1.36.26-2h3.38c-.08.66-.14 1.32-.14 2s.06 1.34.14 2M12 4.03c.83 1.2 1.5 2.54 1.91 3.97h-3.82c.41-1.43 1.08-2.77 1.91-3.97M18.92 8h-2.95a15.7 15.7 0 0 0-1.38-3.56c1.84.63 3.37 1.9 4.33 3.56M12 2C6.47 2 2 6.5 2 12a10 10 0 0 0 10 10 10 10 0 0 0 10-10A10 10 0 0 0 12 2"/></svg>
    </a>
  
    
    
    
    
      
      
    
    <a href="https://x.com/aitormedrano" target="_blank" rel="noopener" title="x.com" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 6.6.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M389.2 48h70.6L305.6 224.2 487 464H345L233.7 318.6 106.5 464H35.8l164.9-188.5L26.8 48h145.6l100.5 132.9zm-24.8 373.8h39.1L151.1 88h-42z"/></svg>
    </a>
  
    
    
    
    
    <a href="mailto:<a.medrano@edu.gva.es>" target="_blank" rel="noopener" title="" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 6.6.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M48 64C21.5 64 0 85.5 0 112c0 15.1 7.1 29.3 19.2 38.4l217.6 163.2c11.4 8.5 27 8.5 38.4 0l217.6-163.2c12.1-9.1 19.2-23.3 19.2-38.4 0-26.5-21.5-48-48-48zM0 176v208c0 35.3 28.7 64 64 64h384c35.3 0 64-28.7 64-64V176L294.4 339.2a63.9 63.9 0 0 1-76.8 0z"/></svg>
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
      <div class="md-consent" data-md-component="consent" id="__consent" hidden>
        <div class="md-consent__overlay"></div>
        <aside class="md-consent__inner">
          <form class="md-consent__form md-grid md-typeset" name="consent">
            

  
    
  




  


<h4>Consentimiento de cookie</h4>
<p>Esta página de apuntes utiliza cookies para reconocer las visitas, medir la efectividad de la documentación y averiguar si encuentras aquello que buscas o cómo has llegado a estos apuntes. Con tu consentimiento, me ayudas a mejorar estos materiales.</p>
<input class="md-toggle" type="checkbox" id="__settings" >
<div class="md-consent__settings">
  <ul class="task-list">
    
      
      
        
        
      
      <li class="task-list-item">
        <label class="task-list-control">
          <input type="checkbox" name="analytics" checked>
          <span class="task-list-indicator"></span>
          Google Analytics
        </label>
      </li>
    
  </ul>
</div>
<div class="md-consent__controls">
  
    
      <button class="md-button md-button--primary">Aceptar</button>
    
    
    
  
    
    
    
      <label class="md-button" for="__settings">Gestionar cookies</label>
    
  
</div>
          </form>
        </aside>
      </div>
      <script>var consent=__md_get("__consent");if(consent)for(var input of document.forms.consent.elements)input.name&&(input.checked=consent[input.name]||!1);else"file:"!==location.protocol&&setTimeout((function(){document.querySelector("[data-md-component=consent]").hidden=!1}),250);var form=document.forms.consent;for(var action of["submit","reset"])form.addEventListener(action,(function(e){if(e.preventDefault(),"reset"===e.type)for(var n of document.forms.consent.elements)n.name&&(n.checked=!1);__md_set("__consent",Object.fromEntries(Array.from(new FormData(form).keys()).map((function(e){return[e,!0]})))),location.hash="",location.reload()}))</script>
    
    <script id="__config" type="application/json">{"base": ".", "features": ["header.autohide", "navigation.top", "navigation.tracking", "navigation.footer", "navigation.indexes", "content.code.annotate", "announce.dismiss", "toc.follow", "content.code.copy"], "search": "assets/javascripts/workers/search.07f07601.min.js", "translations": {"clipboard.copied": "Copiado al portapapeles", "clipboard.copy": "Copiar al portapapeles", "search.result.more.one": "1 m\u00e1s en esta p\u00e1gina", "search.result.more.other": "# m\u00e1s en esta p\u00e1gina", "search.result.none": "No se encontraron documentos", "search.result.one": "1 documento encontrado", "search.result.other": "# documentos encontrados", "search.result.placeholder": "Teclee para comenzar b\u00fasqueda", "search.result.term.missing": "Falta", "select.version": "Seleccionar versi\u00f3n"}}</script>
    
    
      <script src="assets/javascripts/bundle.56dfad97.min.js"></script>
      
    
  </body>
</html>